webpackJsonp([10],{"4wl5":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a("Js1K"),s={components:{},props:["order_code"],data:function(){return{lang:this.$i18n.locale,detail:[],details:"",goodsList:[],addressee:[],dialogTableVisible:!1,dialogViewTitle:"",dialogViewWidth:"800px",dialogType:""}},created:function(){this.orderDetail()},methods:{orderDetail:function(){var e=this;e.$request.goodsOrderGetDetail({order_code:e.order_code}).then(function(t){1==t.code&&(void 0!=t.data.info&&(e.detail=t.data.info),void 0!=t.data.detail&&(void 0!=t.data.detail.details_txt&&t.data.detail.details_txt.length>0&&(e.goodsList=t.data.detail.details_txt),void 0!=t.data.detail.addressee_txt&&(e.addressee=t.data.detail.addressee_txt)),e.details=t.data.detail)})},goBack:function(){this.$emit("backGo",!1)},sendGoodsInfo:function(){this.order_code=this.detail.order_code,this.dialogTableVisible=!0,this.dialogViewTitle="Send out goods",this.dialogViewWidth="800px",this.dialogType="handle"},closeDialog:function(){this.order_code="",this.dialogTableVisible=!1,this.dialogViewTitle="",this.dialogViewWidth="800px",this.dialogType="",this.post_code=""},printMailingLabels:function(){""!=this.detail.pdf_path?window.open(this.detail.pdf_path):this.$message.error("Mailing label not generated")},getLogisticsList:function(){this.post_code=this.detail.post_code,this.dialogTableVisible=!0,this.dialogViewTitle="Logistics",this.dialogViewWidth="800px",this.dialogType="logistics"}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderdetail_container"},[a("div",{staticClass:"container_top"},[a("el-page-header",{staticClass:"call_back",on:{back:e.goBack}}),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[2==e.detail.order_status?a("el-button",{staticClass:"goodsorderbtn",attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.sendGoodsInfo()}}},[e._v("\n                "+e._s("ch"==e.lang?"发货":"Send out goods")+"\n            ")]):e._e(),e._v(" "),3==e.detail.order_status?a("el-button",{staticClass:"goodsorderbtn",attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.printMailingLabels()}}},[e._v("\n                "+e._s("ch"==e.lang?"打印邮寄面单":"Print mailing labels")+"\n            ")]):e._e(),e._v(" "),3==e.detail.order_status?a("el-button",{staticClass:"goodsorderbtn",attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.getLogisticsList()}}},[e._v("\n                "+e._s("ch"==e.lang?"查看物流":"Logistics")+"\n            ")]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Order basic information")]),e._v(" "),a("div",{staticClass:"item_container"},[a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Order code：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.order_code))])]),e._v(" "),e.detail.post_code?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Mailing number：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.post_code))])]):e._e(),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Order status：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.status_txt))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Org price：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.org_price))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Pay price：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.pay_price))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Discount price：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.discount_price))])]),e._v(" "),e.detail.platform_currency?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Platform currency：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.platform_currency))])]):e._e(),e._v(" "),e.detail.pay_time?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Pay time：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.pay_time))])]):e._e(),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Create time：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.created_at))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Update time：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.updated_at))])]),e._v(" "),e.detail.remark?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Remark：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.remark))])]):e._e()])])]),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Commodity list")]),e._v(" "),a("div",{staticClass:"item_container"},e._l(e.goodsList,function(t,i){return a("div",{key:i,staticClass:"goods_item"},[a("img",{attrs:{src:t.image,alt:""}}),e._v(" "),a("div",{staticClass:"goodsIno"},[a("div",{staticClass:"title"},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("span",{staticStyle:{"padding-left":"50px",display:"inline-block",color:"red","font-size":"14px"}},[e._v("x"+e._s(t.nums))])]),e._v(" "),t.sku.title?a("div",{staticClass:"skutitle"},[e._v("\n                            "+e._s(t.sku.title)+"\n                        ")]):e._e()])])}),0)])]),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Reason for return")]),e._v(" "),a("div",{staticClass:"item_container",domProps:{innerHTML:e._s(e.details.return_apply_reason)}})])])])},staticRenderFns:[]};var r=a("VU/8")(s,l,!1,function(e){a("KIIV")},"data-v-23e9e2ee",null).exports,o={components:{},props:["order_code"],data:function(){return{lang:this.$i18n.locale,detail:[],formData:{order_code:this.order_code,order_status:"",contents:""}}},created:function(){this.orderDetail()},methods:{orderDetail:function(){var e=this;e.$request.goodsOrderGetDetail({order_code:e.order_code}).then(function(t){1==t.code&&(e.detail=t.data)})},submitForm:function(e){var t=this;t.$refs[e].validate(function(e){e&&t.$request.goodsOrderReturnHandle(t.formData).then(function(e){1==e.code&&(t.$message.success(e.msg),setTimeout(function(){t.$router.go(0)},2500))})})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderdetail_container"},[a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v(e._s("ch"==e.lang?"退货原因":"Reason for return"))]),e._v(" "),""!=e.detail?a("div",{staticClass:"item_container",domProps:{innerHTML:e._s(e.detail.detail.return_apply_reason)}}):e._e(),e._v(" "),a("div",{staticStyle:{clear:"both"}})])]),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v(e._s("ch"==e.lang?"处理信息":"Handle info"))]),e._v(" "),a("div",{staticClass:"item_container"},[a("el-form",{ref:"formData",staticClass:"demo-ruleForm",attrs:{model:e.formData,"label-width":"50px"}},[a("div",{staticClass:"group_item",staticStyle:{"padding-left":"0","margin-left":"0"}},[a("el-form-item",{attrs:{label:"ch"==e.lang?"状态":"Status",prop:"weight"}},[a("el-radio",{attrs:{label:"7"},model:{value:e.formData.order_status,callback:function(t){e.$set(e.formData,"order_status",t)},expression:"formData.order_status"}},[e._v(e._s("ch"==e.lang?"通过":"adopt"))]),e._v(" "),a("el-radio",{attrs:{label:"8"},model:{value:e.formData.order_status,callback:function(t){e.$set(e.formData,"order_status",t)},expression:"formData.order_status"}},[e._v(e._s("ch"==e.lang?"不通过":"Fail"))])],1),e._v(" "),a("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"ch"==e.lang?"原因":"Reason",prop:"length"}},[a("el-input",{attrs:{type:"textarea",rows:3,placeholder:"",maxlength:"200"},model:{value:e.formData.contents,callback:function(t){e.$set(e.formData,"contents",t)},expression:"formData.contents"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticStyle:{float:"right","background-color":"#18bc9c"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formData")}}},[e._v(e._s(e.$t("config.submit")))])],1)],1)],1)])])])},staticRenderFns:[]};var d=a("VU/8")(o,n,!1,function(e){a("r+Br")},"data-v-59bf586a",null).exports,c={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"orderdetail_container"},[t("div",{staticClass:"order_container"},[t("div",{staticClass:"group_item"},[t("div",{staticClass:"all_title"},[this._v("Reason：")]),this._v(" "),""!=this.detail?t("div",{staticClass:"item_container"},[this._v("\n                "+this._s(this.detail.return_filed_reason)+"\n            ")]):this._e()])])])},staticRenderFns:[]};var _=a("VU/8")({components:{},props:["order_code"],data:function(){return{lang:this.$i18n.locale,detail:[]}},created:function(){this.orderDetail()},methods:{orderDetail:function(){var e=this;e.$request.goodsGetReturnFileReason({order_code:e.order_code}).then(function(t){1==t.code&&(e.detail=t.data),e.goodsOrderGetMailService()})}}},c,!1,function(e){a("ihE3")},"data-v-db8b0678",null).exports,u={components:{layoutPage:i.a,orderDetails:r,Handle:d,Reason:_},inject:["reload"],data:function(){return{lang:this.$i18n.locale,loadingTable:!0,dialogTableVisible:!1,dialogViewTitle:"",dialogViewWidth:"800px",dialogType:"",total:0,list:[],searchShow:!1,isDetails:!1,order_code:"",post_code:"",search:{page:1,pagesize:15,order_code:"",post_code:"",user_id:"",wholesaler_id:"",source:"",order_status:"",nickname:"",wholesalername:"",pay_time:"",created_at:""},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},computed:{rank:function(){return this.$store.state.rank}},created:function(){this.$route.query;this.getList()},methods:{refresh:function(){this.getList()},bindClikeUser:function(e){this.search.user_id=e.user_id,this.search.page=1,this.getList()},bindClikeWholesaler:function(e){this.search.wholesaler_id=e.wholesaler_id,this.search.page=1,this.getList()},bindSearch:function(){this.searchShow?this.searchShow=!1:this.searchShow=!0},searchTableList:function(){this.search.page=1,this.getList()},resetForm:function(){if(void 0==this.search.timetype||null==this.search.timetype||""==this.search.timetype){var e=this.search;for(var t in e)"page"==t?e[t]=1:"pagesize"==t||(e[t]="");this.search=e,this.getList()}else this.$router.push("/order/commodityorder")},changPageSize:function(e){this.search.pagesize=e,this.getList()},changCurrentPage:function(e){this.search.page=e,this.getList()},changJumpPage:function(e){this.search.page=e,this.getList()},getList:function(){var e=this;e.loadingTable=!0,e.$request.goodsOrderReturnGetList(e.search).then(function(t){e.loadingTable=!1,1==t.code&&(e.list=t.data.list,e.total=t.data.total)})},getOrderDetail:function(e){this.order_code=e.order_code,this.isDetails=!0},backGo:function(){this.order_code="",this.isDetails=!1},handeleApply:function(e){this.order_code=e.order_code,this.dialogTableVisible=!0,this.dialogViewTitle="handle order",this.dialogViewWidth="800px",this.dialogType="handle"},showFileReason:function(e){this.order_code=e.order_code,this.dialogTableVisible=!0,this.dialogViewTitle="Reason",this.dialogViewWidth="600px",this.dialogType="reason"},closeDialog:function(e){this.order_code="",this.dialogTableVisible=!1,this.dialogViewTitle="",this.dialogViewWidth="800px",this.dialogType="",this.post_code=""},printMailingLabels:function(e){""!=e.pdf_path?(console.log(e.pdf_path),window.open(e.pdf_path)):this.$message.error("Mailing label not generated")},getLogisticsList:function(e){this.post_code=e.post_code,this.dialogTableVisible=!0,this.dialogViewTitle="Logistics",this.dialogViewWidth="800px",this.dialogType="logistics"}}},h={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_orderlist_container"},[e.isDetails?e._e():a("div",{staticClass:"list"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchShow,expression:"searchShow"}],staticClass:"toolbar_form"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.search,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Order code"}},[a("el-input",{model:{value:e.search.order_code,callback:function(t){e.$set(e.search,"order_code",t)},expression:"search.order_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"User id"}},[a("el-input",{model:{value:e.search.user_id,callback:function(t){e.$set(e.search,"user_id",t)},expression:"search.user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"User nickname"}},[a("el-input",{model:{value:e.search.nickname,callback:function(t){e.$set(e.search,"nickname",t)},expression:"search.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Wholesaler id"}},[a("el-input",{model:{value:e.search.wholesaler_id,callback:function(t){e.$set(e.search,"wholesaler_id",t)},expression:"search.wholesaler_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Wholesaler nickname","label-width":"150px"}},[a("el-input",{model:{value:e.search.wholesalername,callback:function(t){e.$set(e.search,"wholesalername",t)},expression:"search.wholesalername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Order status"}},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.search.order_status,callback:function(t){e.$set(e.search,"order_status",t)},expression:"search.order_status"}},[a("el-option",{key:"6",attrs:{label:"Processing return",value:"6"}}),e._v(" "),a("el-option",{key:"7",attrs:{label:"Return succeeded",value:"6"}}),e._v(" "),a("el-option",{key:"8",attrs:{label:"Return failed",value:"6"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Order typs"}},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.search.source,callback:function(t){e.$set(e.search,"source",t)},expression:"search.source"}},[a("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),a("el-option",{key:"1",attrs:{label:"Retail order",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"Wholesale order",value:"2"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"d-button",attrs:{type:"primary"},on:{click:function(t){return e.searchTableList()}}},[e._v(e._s(e.$t("config.search")))]),e._v(" "),a("el-button",{staticClass:"d-button",on:{click:function(t){return e.resetForm()}}},[e._v(e._s(e.$t("config.reset")))])],1)],1)],1),e._v(" "),a("div",{staticClass:"toolbar"},[a("div",{staticClass:"toolbar_left"},[a("el-button",{staticClass:"d-refresh-button",attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.refresh()}}})],1),e._v(" "),a("div",{staticClass:"toolbar-form"},[a("el-button",{staticClass:"d-button",attrs:{type:"info",icon:"el-icon-search"},on:{click:e.bindSearch}})],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",label:e.$t("orders.order_code"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table_click_title",attrs:{title:"Click to view details"},on:{click:function(a){return e.getOrderDetail(t.row)}}},[e._v(e._s(t.row.order_code))])]}}],null,!1,111476143)}),e._v(" "),a("el-table-column",{attrs:{"min-width":"140",label:"ch"==e.lang?"用户":"Retail customers"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table_click_title",attrs:{title:"Click search retail customers"},on:{click:function(a){return e.bindClikeUser(t.row)}}},[e._v(e._s(t.row.user.nickname))])]}}],null,!1,1646392863)}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",label:"ch"==e.lang?"批发商":"Wholesaler"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.wholesaler?a("div",{staticClass:"table_click_title",attrs:{title:"Click search wholesaler"},on:{click:function(a){return e.bindClikeWholesaler(t.row)}}},[e._v(e._s(t.row.wholesaler.nickname))]):e._e()]}}],null,!1,3370611792)}),e._v(" "),a("el-table-column",{attrs:{"min-width":"150",label:"ch"==e.lang?"订单状态":"Order status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.status_txt))])]}}],null,!1,4003577538)}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"ch"==e.lang?"订单来源":"Order types"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.source?a("div",{staticStyle:{color:"#2ecc71"}},[e._v("Retail order")]):e._e(),e._v(" "),2==t.row.source?a("div",{staticStyle:{color:"#2c3b41"}},[e._v("Wholesale order")]):e._e()]}}],null,!1,3536779362)}),e._v(" "),a("el-table-column",{attrs:{prop:"return_time",width:"180",label:"ch"==e.lang?"申请时间":"Apply time"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:e.$t("config.operate"),"min-width":"260"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_primary",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.getOrderDetail(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"订单详情":"Detail")+"\n                    ")]),e._v(" "),6==t.row.order_status?a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_success",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.handeleApply(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"处理":"Handle")+"\n                    ")]):e._e(),e._v(" "),8==t.row.order_status?a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_success",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.showFileReason(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"未通过原因":"Reasons for failure")+"\n                    ")]):e._e()]}}],null,!1,3069797511)})],1),e._v(" "),a("div",[a("layoutPage",{attrs:{total:e.total,currentpage:e.search.page},on:{changPageSize:e.changPageSize,changCurrentPage:e.changCurrentPage,changJumpPage:e.changJumpPage}})],1)],1),e._v(" "),e.dialogTableVisible?a("el-dialog",{attrs:{visible:e.dialogTableVisible,title:e.dialogViewTitle,width:e.dialogViewWidth},on:{"update:visible":function(t){e.dialogTableVisible=t}}},["handle"==e.dialogType?a("Handle",{attrs:{order_code:e.order_code}}):e._e(),e._v(" "),"reason"==e.dialogType?a("Reason",{attrs:{order_code:e.order_code}}):e._e()],1):e._e(),e._v(" "),e.isDetails?a("orderDetails",{attrs:{order_code:e.order_code},on:{backGo:e.backGo}}):e._e()],1)},staticRenderFns:[]};var v=a("VU/8")(u,h,!1,function(e){a("5Fbz")},"data-v-66a1cd44",null);t.default=v.exports},"5Fbz":function(e,t){},KIIV:function(e,t){},ihE3:function(e,t){},"r+Br":function(e,t){}});