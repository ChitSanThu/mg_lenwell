webpackJsonp([35],{"+RDr":function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"\n.rule_edit .el-select[data-v-13e7a821]{\n  width: 100%;\n}\n.rule_edit .el-form-item__content[data-v-13e7a821]{\n}\n.rule_edit .rule_ids .el-form-item__content[data-v-13e7a821]{\n  height: auto;\n}\n.el-tree[data-v-13e7a821]{\n  width: 100%;\n}\n.icon_item[data-v-13e7a821]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  font-size: 16px;\n}\n.icon_item.active[data-v-13e7a821]{\n  color: #18bc9c;\n}\n.el-tree-flex[data-v-13e7a821]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.el-tree-item[data-v-13e7a821]{\n  padding-right: 20px;\n}\n.el-tree-li[data-v-13e7a821] {\n  padding-left: 20px;\n  position: relative;\n}\n.el-tree-li i[data-v-13e7a821]{\n  display: inline-block;\n  line-height: 40px;\n  color: #409EFF;\n  font-size: 18px;\n  position: absolute;\n  left: -6px;\n  top:0;\n  z-index: 10px;\n  cursor: pointer;\n}\n.el-tree-li i.el-icon-caret-bottom[data-v-13e7a821]{\n  top: 2px;\n  left: -8px;\n}\n/*  */\n.el-tree-li i[data-v-13e7a821]::after{\n  content: '';\n  left: 6px;\n  top: 20px;\n  width: 20px;\n  height: 1px;\n  background: #409EFF;\n  position: absolute;\n}\n.el-tree-li i.el-icon-caret-bottom[data-v-13e7a821]::after{\n  top: 18px;\n  width: 22px;\n}\n.el-tree-li[data-v-13e7a821]::after{\n  content: '';\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 1px;\n  /* height: 100%; */\n  background: #409EFF;\n  position: absolute;\n}\n","",{version:3,sources:["/Users/chitsanthu/Desktop/lenwell/wetransfer_api-zip_2022-08-29_1643/www/mg_lenwell/src/view/auth/rolesEdit.vue"],names:[],mappings:";AACA;EACE,YAAY;CACb;AACD;CACC;AACD;EACE,aAAa;CACd;AACD;EACE,YAAY;CACb;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,0BAA0B;MACtB,uBAAuB;UACnB,+BAA+B;EACvC,0BAA0B;MACtB,uBAAuB;UACnB,oBAAoB;EAC5B,gBAAgB;CACjB;AACD;EACE,eAAe;CAChB;AACD;EACE,qBAAqB;EACrB,qBAAqB;EACrB,cAAc;EACd,wBAAwB;MACpB,qBAAqB;UACjB,4BAA4B;EACpC,yBAAyB;MACrB,sBAAsB;UAClB,wBAAwB;EAChC,oBAAoB;MAChB,gBAAgB;CACrB;AACD;EACE,oBAAoB;CACrB;AACD;EACE,mBAAmB;EACnB,mBAAmB;CACpB;AACD;EACE,sBAAsB;EACtB,kBAAkB;EAClB,eAAe;EACf,gBAAgB;EAChB,mBAAmB;EACnB,WAAW;EACX,MAAM;EACN,cAAc;EACd,gBAAgB;CACjB;AACD;EACE,SAAS;EACT,WAAW;CACZ;AACD,MAAM;AACN;EACE,YAAY;EACZ,UAAU;EACV,UAAU;EACV,YAAY;EACZ,YAAY;EACZ,oBAAoB;EACpB,mBAAmB;CACpB;AACD;EACE,UAAU;EACV,YAAY;CACb;AACD;EACE,YAAY;EACZ,QAAQ;EACR,OAAO;EACP,UAAU;EACV,WAAW;EACX,mBAAmB;EACnB,oBAAoB;EACpB,mBAAmB;CACpB",file:"rolesEdit.vue",sourcesContent:["\n.rule_edit .el-select[data-v-13e7a821]{\n  width: 100%;\n}\n.rule_edit .el-form-item__content[data-v-13e7a821]{\n}\n.rule_edit .rule_ids .el-form-item__content[data-v-13e7a821]{\n  height: auto;\n}\n.el-tree[data-v-13e7a821]{\n  width: 100%;\n}\n.icon_item[data-v-13e7a821]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  -webkit-box-align: center;\n      -ms-flex-align: center;\n          align-items: center;\n  font-size: 16px;\n}\n.icon_item.active[data-v-13e7a821]{\n  color: #18bc9c;\n}\n.el-tree-flex[data-v-13e7a821]{\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: start;\n      -ms-flex-pack: start;\n          justify-content: flex-start;\n  -webkit-box-align: start;\n      -ms-flex-align: start;\n          align-items: flex-start;\n  -ms-flex-wrap: wrap;\n      flex-wrap: wrap;\n}\n.el-tree-item[data-v-13e7a821]{\n  padding-right: 20px;\n}\n.el-tree-li[data-v-13e7a821] {\n  padding-left: 20px;\n  position: relative;\n}\n.el-tree-li i[data-v-13e7a821]{\n  display: inline-block;\n  line-height: 40px;\n  color: #409EFF;\n  font-size: 18px;\n  position: absolute;\n  left: -6px;\n  top:0;\n  z-index: 10px;\n  cursor: pointer;\n}\n.el-tree-li i.el-icon-caret-bottom[data-v-13e7a821]{\n  top: 2px;\n  left: -8px;\n}\n/*  */\n.el-tree-li i[data-v-13e7a821]::after{\n  content: '';\n  left: 6px;\n  top: 20px;\n  width: 20px;\n  height: 1px;\n  background: #409EFF;\n  position: absolute;\n}\n.el-tree-li i.el-icon-caret-bottom[data-v-13e7a821]::after{\n  top: 18px;\n  width: 22px;\n}\n.el-tree-li[data-v-13e7a821]::after{\n  content: '';\n  left: 0;\n  top: 0;\n  bottom: 0;\n  width: 1px;\n  /* height: 100%; */\n  background: #409EFF;\n  position: absolute;\n}\n"],sourceRoot:""}])},JURq:function(e,t,n){var i=n("+RDr");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("fee6c962",i,!1,{})},SqF8:function(e,t,n){var i=n("ob5K");"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);n("rjj0")("100ae815",i,!1,{})},WDrI:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("Js1K"),l={name:"ruleEdit",props:["roleId"],data:function(){return{lang:this.$i18n.locale,ruleTree:{all:!1,open:!1,list:[]},defaultProps:{children:"children",label:"label"},ruleForm:{id:"",title:"",title_zh:"",status:"1",rule_ids:"",form_token:""},rules:{title:[{required:!0,message:this.$t("config.title_no"),trigger:"blur|change"}],title_zh:[{required:!0,message:this.$t("config.title_zh_no"),trigger:"blur|change"}]}}},created:function(){this.roleId?this.getRoleInfo():this.getRuleList(""),this.getformtoken()},methods:{getRuleList:function(e){var t=this;t.$request.getRulesList({type:"role"}).then(function(n){1==n.code&&(t.setTree(n.data,e),t.ruleTree.list=n.data)})},setTree:function(e,t){var n=this,i=t.split(",");e.forEach(function(e){1==e.status&&(e.show=!1,i.indexOf(String(e.id))>=0?e.checked=!0:e.checked=!1,e.node&&e.node.length>0?(e.nodeThree=!0,n.setTree(e.node,t)):e.nodeThree=!1)})},getRoleInfo:function(){var e=this;e.$request.getRolesInfo({id:e.roleId}).then(function(t){if(1==t.code)for(var n in e.getRuleList(t.data.rule_ids),t.data)for(var i in e.ruleForm)n==i&&("status"==n&&(t.data[n]=String(t.data[n])),e.ruleForm[i]=t.data[n])})},getformtoken:function(){var e=this;e.$request.getformtoken().then(function(t){e.ruleForm.form_token=t.data.token})},bindShow:function(e){e.show=!e.show},changeTree:function(e){parent&&this.treeParent(e.pid),this.treeEach(e),this.ruleForm.rule_ids=this.getCheckedTreeALL(this.ruleTree.list,[]).join(",")},treeParent:function(e){this.getParent(this.ruleTree.list,e)},getParent:function(e,t){var n=this;e.forEach(function(e){e.id!=t?e.node&&e.node.length>0&&n.getParent(e.node,t):(n.getTreeNum(e.node)>0?e.checked=!0:e.checked=!1,n.getParent(n.ruleTree.list,e.pid))})},getTreeNum:function(e){var t=0;for(var n in e)e[n].checked&&t++;return t},treeEach:function(e){if(e.node)for(var t in e.node)e.node[t].checked=e.checked,this.treeEach(e.node[t])},bindTreeAll:function(){this.setTreechange(this.ruleTree.list,"all"),this.ruleForm.rule_ids=this.getCheckedTreeALL(this.ruleTree.list,[]).join(",")},bindTreeOpen:function(){this.setTreechange(this.ruleTree.list,"open")},setTreechange:function(e,t){var n=this;e.forEach(function(e){"all"==t?e.checked=n.ruleTree.all:e.show=n.ruleTree.open,e.node&&e.node.length>0&&n.setTreechange(e.node,t)})},getCheckedTreeALL:function(e,t){var n=this;return e.forEach(function(e){e.checked&&t.push(e.id),e.node&&e.node.length>0&&n.getCheckedTreeALL(e.node,t)}),t},submitForm:function(e){var t=this,n=this;n.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;n.$request.setRolesSave(n.ruleForm).then(function(e){1==e.code?(n.$emit("changeRolesDialog",n.ruleForm),t.$notify({title:n.$t("config.tips"),message:e.msg,type:"success",duration:"2000"})):n.getformtoken()})})}}},a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"rule_edit",staticStyle:{"padding-top":"30px","background-color":"white"}},[n("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:e.$t("config.title"),prop:"title"}},[n("el-input",{model:{value:e.ruleForm.title,callback:function(t){e.$set(e.ruleForm,"title",t)},expression:"ruleForm.title"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("config.title_zh"),prop:"title"}},[n("el-input",{model:{value:e.ruleForm.title_zh,callback:function(t){e.$set(e.ruleForm,"title_zh",t)},expression:"ruleForm.title_zh"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("config.status")}},[n("el-radio",{attrs:{label:"1"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v(e._s(e.$t("config.start_using")))]),e._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v(e._s(e.$t("config.deactivate")))])],1),e._v(" "),n("el-form-item",{staticClass:"rule_ids",attrs:{label:e.$t("roles.rule"),prop:"rule_ids"}},[n("div",{staticClass:"el-role-tree"},[n("div",{staticClass:"el-role-tree-all el-tree-flex"},[n("div",{staticClass:"el-tree-item"},[n("el-checkbox",{on:{change:e.bindTreeAll},model:{value:e.ruleTree.all,callback:function(t){e.$set(e.ruleTree,"all",t)},expression:"ruleTree.all"}},[e._v("全选")])],1),e._v(" "),n("div",{staticClass:"el-tree-item"},[n("el-checkbox",{on:{change:e.bindTreeOpen},model:{value:e.ruleTree.open,callback:function(t){e.$set(e.ruleTree,"open",t)},expression:"ruleTree.open"}},[e._v("展开")])],1)]),e._v(" "),n("div",{staticClass:"el-tree-body"},[e.ruleTree.list&&e.ruleTree.list.length>0?n("div",{staticClass:"el-tree-ul"},e._l(e.ruleTree.list,function(t,i){return n("div",{key:i,staticClass:"el-tree-li"},[n("i",{class:t.show?"el-icon-caret-bottom":"el-icon-caret-right",on:{click:function(n){return e.bindShow(t)}}}),e._v(" "),n("div",{staticClass:"el-tree-item"},[n("el-checkbox",{attrs:{indeterminate:t.indeterminate},on:{change:function(n){return e.changeTree(t)}},model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"item.checked"}},[e._v(e._s("ch"==e.lang?t.title_zh:t.title))])],1),e._v(" "),t.show?n("div",{staticClass:"el-tree-ul"},[t.nodeThree?e._l(t.node,function(i,l){return n("div",{key:l,staticClass:"el-tree-li ",class:i.node&&i.node.length>0?"":"el-tree-flex"},[n("i",{class:i.show?"el-icon-caret-bottom":"el-icon-caret-right",on:{click:function(t){return e.bindShow(i)}}}),e._v(" "),n("div",{staticClass:"el-tree-item"},[n("el-checkbox",{attrs:{indeterminate:t.indeterminate},on:{change:function(t){return e.changeTree(i)}},model:{value:i.checked,callback:function(t){e.$set(i,"checked",t)},expression:"items.checked"}},[e._v(e._s("ch"==e.lang?i.title_zh:i.title))])],1),e._v(" "),i.show&&i.node&&i.node.length>0?n("div",{staticClass:"el-tree-flex"},e._l(i.node,function(t,i){return n("div",{key:i,staticClass:"el-tree-item"},[n("el-checkbox",{on:{change:function(n){return e.changeTree(t)}},model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"key.checked"}},[e._v(e._s("ch"==e.lang?t.title_zh:t.title))])],1)}),0):e._e()])}):n("div",{staticClass:"el-tree-flex"},e._l(t.node,function(t,i){return n("div",{key:i,staticClass:"el-tree-item"},[n("el-checkbox",{on:{change:function(n){return e.changeTree(t)}},model:{value:t.checked,callback:function(n){e.$set(t,"checked",n)},expression:"items.checked"}},[e._v(e._s("ch"==e.lang?t.title_zh:t.title))])],1)}),0)],2):e._e()])}),0):e._e()])])]),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(e._s(e.$t("config.submit")))])],1)],1)],1)};a._withStripped=!0;var o={render:a,staticRenderFns:[]},r=o;var s=!1;var c=n("VU/8")(l,r,!1,function(e){s||n("JURq")},"data-v-13e7a821",null);c.options.__file="src/view/auth/rolesEdit.vue";var d=c.exports,u={components:{layoutPage:i.a,rolesEdit:d},data:function(){return{loadingTable:!0,dialogTableVisible:!1,roleId:null,tableData:[],dialogTableTitle:"Info"}},computed:{rank:function(){return this.$store.state.rank}},created:function(){this.getList()},methods:{refresh:function(){this.getList()},getList:function(){var e=this;e.loadingTable=!0,e.$request.getRolesList(e.search).then(function(t){e.loadingTable=!1,e.tableData=t.data})},addRow:function(){this.dialogTableTitle="Add Role",this.dialogTableVisible=!0,this.roleId=""},EditRow:function(e){this.dialogTableTitle="Edit Role",this.dialogTableVisible=!0,this.roleId=e.id},deleteRow:function(e){var t=this,n=this;n.$alert(n.$t("config.delMsg"),n.$t("config.tips"),{confirmButtonText:n.$t("config.confirm"),showCancelButton:!0,cancelButtonText:n.$t("config.cancel")}).then(function(){n.$request.delRoles({id:e.id}).then(function(e){n.getRolesList(),t.$notify({title:n.$t("config.tips"),message:e.data.msg,type:"success"})})})},changeRolesDialog:function(e){this.dialogTableVisible=!1,this.getRolesList()}}},f=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group",staticStyle:{"background-color":"white",padding:"15px","border-radius":"5px"}},[n("div",{staticClass:"toolbar"},[n("div",{staticClass:"toolbar_left"},[n("el-button",{staticClass:"d-refresh-button",attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.refresh()}}}),e._v(" "),e.rank&&e.rank.add?n("el-button",{staticClass:"d-button",attrs:{type:"success",icon:"el-icon-plus"},on:{click:e.addRow}},[e._v(e._s(e.$t("config.add")))]):e._e()],1)]),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",splict:""}},[n("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"60"}}),e._v(" "),n("el-table-column",{attrs:{prop:"title","min-width":"200",label:e.$t("config.title")}}),e._v(" "),n("el-table-column",{attrs:{prop:"title_zh","min-width":"200",label:e.$t("config.title_zh")}}),e._v(" "),n("el-table-column",{attrs:{prop:"status",label:e.$t("config.status"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tag",{attrs:{type:1==t.row.status?"primary":"success","disable-transitions":""}},[e._v(e._s(1==t.row.status?e.$t("config.start_using"):e.$t("config.deactivate")))])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"created_at",label:e.$t("config.create_at"),width:"300"}}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:e.$t("config.operate"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.rank&&e.rank.edit?n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.EditRow(t.row)}}},[e._v("\n            "+e._s(e.$t("config.edit"))+"\n          ")]):e._e(),e._v(" "),e.rank&&e.rank.del?n("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(n){return n.preventDefault(),e.deleteRow(t.row)}}},[e._v("\n            "+e._s(e.$t("config.del"))+"\n          ")]):e._e()]}}])})],1),e._v(" "),e.dialogTableVisible?n("el-dialog",{attrs:{visible:e.dialogTableVisible,width:"800px",title:e.dialogTableTitle},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[n("rolesEdit",{attrs:{roleId:e.roleId},on:{changeRolesDialog:e.changeRolesDialog}})],1):e._e()],1)};f._withStripped=!0;var A={render:f,staticRenderFns:[]},h=A;var p=!1;var g=n("VU/8")(u,h,!1,function(e){p||n("SqF8")},"data-v-45a8f277",null);g.options.__file="src/view/auth/roles.vue";t.default=g.exports},ob5K:function(e,t,n){(e.exports=n("FZ+f")(!0)).push([e.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"roles.vue",sourceRoot:""}])}});