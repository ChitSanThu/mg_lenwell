webpackJsonp([4],{"/Vz/":function(t,e){},"/n6I":function(t,e){},"4O8n":function(t,e){},FCPR:function(t,e){},UO7m:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("Js1K"),s={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rule_edit",staticStyle:{"background-color":"white","padding-top":"30px"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"120px"}},[i("el-form-item",{attrs:{label:"Images",prop:"images"}},[i("div",{staticStyle:{float:"left",width:"calc(100% - 150px)"}},[i("el-input",{attrs:{readonly:""},model:{value:t.ruleForm.images,callback:function(e){t.$set(t.ruleForm,"images",e)},expression:"ruleForm.images"}})],1),t._v(" "),i("div",{staticStyle:{float:"right"}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:t.uploadAction,"show-file-list":!1,"on-success":t.handleAvatarSuccess,"before-upload":t.beforeAvatarUpload}},[i("div",{staticClass:"upload_images_btn"},[i("i",{staticClass:"el-icon-plus avatar-uploader-icon"}),t._v("Upload image")])])],1)]),t._v(" "),t.files&&t.files.length>0?i("el-form-item",[i("div",{staticClass:"upload_file_images"},t._l(t.files,function(e,a){return i("div",{key:a,staticClass:"upload_file_images_item"},[i("img",{attrs:{src:e.fullUrl,alt:""}}),t._v(" "),i("i",{staticClass:"el-icon-delete deleteupload_file_images_item",on:{click:function(e){return t.delImage(a)}}})])}),0)]):t._e(),t._v(" "),i("el-form-item",{attrs:{label:t.$t("model.title"),prop:"title"}},[i("el-input",{model:{value:t.ruleForm.title,callback:function(e){t.$set(t.ruleForm,"title",e)},expression:"ruleForm.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Explain",prop:"explain"}},[i("el-input",{attrs:{type:"textarea"},model:{value:t.ruleForm.remark,callback:function(e){t.$set(t.ruleForm,"remark",e)},expression:"ruleForm.remark"}})],1),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v(t._s(t.$t("config.submit")))])],1)],1)],1)},staticRenderFns:[]};var l=i("VU/8")({name:"edit",props:["id"],data:function(){return{files:[],ruleForm:{id:"",title:"",images:"",remark:""},rules:{title:[{required:!0,message:this.$t("model.title_no"),trigger:"blur|change"}],images:[{required:!0,message:"Images cannot be empty",trigger:"blur|change"}],remark:[{required:!0,message:"Explain cannot be empty",trigger:"blur|change"}]}}},computed:{uploadAction:function(){return this.$store.state.uploadAction}},created:function(){this.id&&this.getDetail()},methods:{handleAvatarSuccess:function(t,e){""==this.ruleForm.images?this.ruleForm.images=t.data.url:this.ruleForm.images=this.ruleForm.images+","+t.data.url,this.files.push(t.data)},beforeAvatarUpload:function(t){},getDetail:function(){var t=this;t.$request.lcdbadscreendetail({id:t.id}).then(function(e){1==e.code&&(t.ruleForm=e.data,t.files=e.data.images_file,t.ruleForm=e.data)})},submitForm:function(t){var e=this;e.$refs[t].validate(function(t){t&&e.$request.lcdbadscreensave(e.ruleForm).then(function(t){1==t.code&&(e.$emit("changeEditDialog",""),e.$notify({title:e.$t("config.tips"),message:t.msg,type:"success",duration:"2000"}))})})},delImage:function(t){var e=this.files;this.$delete(e,t),this.files=e;var i=this.ruleForm.images;i=i.split(","),this.$delete(i,t),i=i.join(","),this.ruleForm.images=i}}},s,!1,function(t){i("/Vz/")},"data-v-78510b74",null).exports,r={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lcdbadscreen_container"},[i("div",{staticClass:"all_title"},[t._v("Screen Info")]),t._v(" "),i("div",{staticClass:"item_container"},[i("div",{staticStyle:{color:"#333","font-size":"16px","font-weight":"bold","padding-top":"10px"}},[t._v(t._s(t.detail.title))]),t._v(" "),i("div",{staticStyle:{"padding-top":"10px",color:"#666"}},[t._v("No："+t._s(t.detail.serial_number))])]),t._v(" "),i("div",{staticClass:"all_title"},[t._v("Detail Info")]),t._v(" "),i("div",{staticClass:"item_container"},[i("div",{staticStyle:{color:"#333","font-size":"14px","padding-top":"10px"}},[t._v(t._s(t.detail.remark))]),t._v(" "),i("div",{staticClass:"images_files"},t._l(t.detail.images_file,function(t,e){return i("img",{key:e,attrs:{src:t.fullUrl,alt:""}})}),0)]),t._v(" "),1!=t.detail.repair_status?i("div",{staticClass:"all_title"},[t._v("Repair Info")]):t._e(),t._v(" "),1!=t.detail.repair_status?i("div",{staticClass:"item_container"},[i("div",{staticClass:"group"},[i("span",[t._v("Repair Status：")]),t._v(t._s(t.detail.repair_status_txt))]),t._v(" "),i("div",{staticClass:"group"},[i("span",[t._v("Repair Time：")]),t._v(t._s(t.detail.repair_time))])]):t._e(),t._v(" "),2==t.detail.repair_status&&1!=t.detail.use_status?i("div",{staticClass:"all_title"},[t._v("Use Info")]):t._e(),t._v(" "),2==t.detail.repair_status&&1!=t.detail.use_status?i("div",{staticClass:"item_container"},[i("div",{staticClass:"group"},[i("span",[t._v("Use Status：")]),t._v(t._s(t.detail.use_status_txt))]),t._v(" "),i("div",{staticClass:"group"},[i("span",[t._v("Use Time：")]),t._v(t._s(t.detail.use_time))])]):t._e()])},staticRenderFns:[]};var n=i("VU/8")({name:"detail",props:["id"],data:function(){return{detail:[]}},created:function(){this.id&&this.getDetail()},methods:{getDetail:function(){var t=this;t.$request.lcdbadscreendetail({id:t.id}).then(function(e){1==e.code&&(t.detail=e.data)})}}},r,!1,function(t){i("4O8n")},"data-v-571530ba",null).exports,o={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"rule_edit",staticStyle:{"background-color":"white","padding-top":"30px"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,"label-width":"120px"}},["repair"==t.type?i("el-form-item",[i("el-radio",{key:t.index,attrs:{value:t.index},model:{value:t.ruleForm.repair_status,callback:function(e){t.$set(t.ruleForm,"repair_status",e)},expression:"ruleForm.repair_status"}},[t._v("\n            "+t._s("ch"==t.lang?t.item.title_zh:t.item.title)+"\n          ")])],1):t._e(),t._v(" "),"use"==t.type?i("el-form-item",t._l(t.use_status,function(e,a){return i("el-radio",{key:a,attrs:{value:a},model:{value:t.ruleForm.use_status,callback:function(e){t.$set(t.ruleForm,"use_status",e)},expression:"ruleForm.use_status"}},[t._v("\n          "+t._s("ch"==t.lang?e.title_zh:e.title)+"\n        ")])}),1):t._e(),t._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v(t._s(t.$t("config.submit")))])],1)],1)],1)},staticRenderFns:[]};var c=i("VU/8")({name:"uodatestatus",props:["id","type"],data:function(){return{lang:this.$i18n.locale,ruleForm:{id:"",repair_status:"",use_status:""},repair_status:{2:{title:"Maintenance completed",title_zh:"维修完成"},3:{title:"Maintenance loss",title_zh:"维修损耗"}},use_status:{2:{title:"Sell",title_zh:"出售"},3:{title:"Self Use",title_zh:"自用"}}}},computed:{uploadAction:function(){return this.$store.state.uploadAction}},created:function(){this.ruleForm.id=this.id},methods:{submitForm:function(t){var e=this;"repair"==e.type?e.$request.lcdbadscreenupdaterepair(e.ruleForm).then(function(t){1==t.code&&(e.$emit("changeEditDialog",""),e.$notify({title:e.$t("config.tips"),message:t.msg,type:"success",duration:"2000"}))}):(e.type="use")&&e.$request.lcdbadscreenupdateuse(e.ruleForm).then(function(t){1==t.code&&(e.$emit("changeEditDialog",""),e.$notify({title:e.$t("config.tips"),message:t.msg,type:"success",duration:"2000"}))})}}},o,!1,function(t){i("yU7R")},"data-v-99a9a4d8",null).exports,u=i("38N9"),d=i.n(u),p={name:"priontqrcode",props:["qrcodepath"],data:function(){return{noteinfo:[]}},created:function(){},methods:{bindPrint:function(){d()({printable:"models_notes",type:"html",header:null,style:"@page {margin:0 10mm}",targetStyles:["*"]})}}},_={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"print-container"},[i("div",{staticClass:"models_notes",attrs:{id:"models_notes"}},[i("img",{staticStyle:{margin:"auto"},attrs:{src:t.qrcodepath,alt:""}})]),t._v(" "),i("div",{staticClass:"flex-pay-container"},[i("div",{staticClass:"btns"},[i("div",{staticClass:"btn",on:{click:function(e){return t.bindPrint()}}},[t._v("打印")])])])])},staticRenderFns:[]};var h=i("VU/8")(p,_,!1,function(t){i("/n6I")},"data-v-a654b7ae",null).exports,m={components:{layoutPage:a.a,uodatestatus:c,edit:l,prionQrcode:h,detail:n},data:function(){return{lang:this.$i18n.locale,qrcodepath:"",dialogTableVisible:!1,dialogViewTitle:"Info",searchShow:!1,updateType:"",personnelData:"",isDetails:!1,elDialogType:"edit",dialogViewWidth:"800px",parintType:"",id:"",loadingTable:!0,search:{page:1,pagesize:15,title:"",repair_status:"",use_status:"",repair_time:"",use_time:"",created_time:""},total:0,tableData:[],repair_status:{1:{title:"Pending",title_zh:"待处理"},2:{title:"Maintenance completed",title_zh:"维修完成"},3:{title:"Maintenance loss",title_zh:"维修损耗"}},use_status:{1:{title:"Stock",title_zh:"库存"},2:{title:"Sell",title_zh:"出售"},3:{title:"Self Use",title_zh:"自用"}},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-6048e5),t.$emit("pick",[i,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-2592e6),t.$emit("pick",[i,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,i=new Date;i.setTime(i.getTime()-7776e6),t.$emit("pick",[i,e])}}]}}},computed:{rank:function(){return this.$store.state.rank}},created:function(){this.getList()},methods:{refresh:function(){this.getList()},bindClikeTitle:function(t){this.search.title=t.title,this.search.page=1,this.getList()},bindSearch:function(){this.searchShow?this.searchShow=!1:this.searchShow=!0},searchTableList:function(){this.search.page=1,this.getList()},resetForm:function(){var t=this.search;for(var e in t)"page"==e?t[e]=1:"pagesize"==e||(t[e]="");this.search=t,this.getList()},changPageSize:function(t){this.search.pagesize=t,this.getList()},changCurrentPage:function(t){this.search.page=t,this.getList()},changJumpPage:function(t){this.search.page=t,this.getList()},getList:function(){var t=this;t.loadingTable=!0,t.$request.getlcdbadscreenlist(t.search).then(function(e){if(t.loadingTable=!1,1==e.code&&e.data&&e.data.list){for(var i in e.data.list)e.data.list[i].checked=!1;t.tableData=e.data.list,t.total=e.data.total}})},printQrcode:function(t){this.dialogViewTitle="Print QR code",this.elDialogType="priont",this.dialogViewWidth="300px",this.qrcodepath=t.qrcode_full,this.dialogTableVisible=!0},changePriont:function(){_this.dialogTableVisible=!1,_this.node_code="",_this.elDialogType="",_this.qrcodepath=""},addRow:function(){this.id="",this.dialogViewTitle="Add",this.elDialogType="edit",this.dialogTableVisible=!0},EditRow:function(t){this.dialogViewTitle="Edit",this.elDialogType="edit",this.id=t.id,this.dialogTableVisible=!0},details:function(t){this.dialogViewTitle="Detail",this.elDialogType="detail",this.id=t.id,this.dialogTableVisible=!0},changeEditDialog:function(t){this.id="",this.dialogViewTitle="",this.elDialogType="",this.dialogTableVisible=!1,this.getList()},changeUpdateDialog:function(t){this.id="",this.dialogViewTitle="",this.elDialogType="",this.dialogTableVisible=!1,this.getList()},updateStatus:function(t,e){this.dialogViewTitle="Update Status",this.id=t.id,this.updateType=e,this.elDialogType="repair",this.dialogTableVisible=!0},deleteRow:function(t){var e=this,i=this;i.$alert(i.$t("config.delMsg"),i.$t("config.tips"),{confirmButtonText:i.$t("config.confirm"),showCancelButton:!0,cancelButtonText:i.$t("config.cancel")}).then(function(){i.$request.lcdbadscreendel({id:t.id}).then(function(t){1==t.code&&(i.getList(),e.$notify({title:i.$t("config.tips"),message:t.msg,type:"success"}))})})},viewDetails:function(t){this.node_code=t.node_code,this.isDetails=!0}}},g={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"index-container"},[t.isDetails?t._e():i("div",{staticClass:"list"},[i("div",{directives:[{name:"show",rawName:"v-show",value:t.searchShow,expression:"searchShow"}],staticClass:"toolbar_form"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.search,"label-width":"130px"}},[i("el-form-item",{attrs:{label:t.$t("rule.title")}},[i("el-input",{model:{value:t.search.title,callback:function(e){t.$set(t.search,"title",e)},expression:"search.title"}})],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("config.update_repair_status")}},[i("el-select",{attrs:{placeholder:t.$t("config.select")},model:{value:t.search.repair_status,callback:function(e){t.$set(t.search,"repair_status",e)},expression:"search.repair_status"}},[i("el-option",{key:"",attrs:{label:t.$t("config.select"),value:""}}),t._v(" "),t._l(t.repair_status,function(e,a){return i("el-option",{key:a,attrs:{label:"ch"==t.lang?e.title_zh:e.title,value:a}})})],2)],1),t._v(" "),i("el-form-item",{attrs:{label:t.$t("config.use_status")}},[i("el-select",{attrs:{placeholder:t.$t("config.select")},model:{value:t.search.use_status,callback:function(e){t.$set(t.search,"use_status",e)},expression:"search.use_status"}},[i("el-option",{key:"",attrs:{label:t.$t("config.select"),value:""}}),t._v(" "),t._l(t.use_status,function(e,a){return i("el-option",{key:a,attrs:{label:"ch"==t.lang?e.title_zh:e.title,value:a}})})],2)],1),t._v(" "),i("el-form-item"),t._v(" "),i("el-form-item",{attrs:{label:"Repair Time"}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.search.repair_time,callback:function(e){t.$set(t.search,"repair_time",e)},expression:"search.repair_time"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Use Time"}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.search.use_time,callback:function(e){t.$set(t.search,"use_time",e)},expression:"search.use_time"}})],1),t._v(" "),i("el-form-item",{attrs:{label:"Create Time"}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions},model:{value:t.search.created_time,callback:function(e){t.$set(t.search,"created_time",e)},expression:"search.created_time"}})],1),t._v(" "),i("el-form-item",[i("el-button",{staticClass:"d-button",attrs:{type:"primary"},on:{click:function(e){return t.searchTableList()}}},[t._v(t._s(t.$t("config.search")))]),t._v(" "),i("el-button",{staticClass:"d-button",on:{click:function(e){return t.resetForm()}}},[t._v(t._s(t.$t("config.reset")))])],1)],1)],1),t._v(" "),i("div",{staticClass:"toolbar"},[i("div",{staticClass:"toolbar_left"},[i("el-button",{staticClass:"d-refresh-button",attrs:{icon:"el-icon-refresh"},on:{click:function(e){return t.refresh()}}}),t._v(" "),t.rank&&t.rank.add?i("el-button",{staticClass:"d-button btn_success_d",attrs:{type:"success",icon:"el-icon-plus"},on:{click:t.addRow}},[t._v(t._s(t.$t("config.add")))]):t._e()],1),t._v(" "),i("div",{staticClass:"toolbar-form"},[i("el-button",{staticClass:"d-button",attrs:{type:"info",icon:"el-icon-search"},on:{click:t.bindSearch}})],1)]),t._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:t.tableData,border:"",stripe:""}},[i("el-table-column",{attrs:{fixed:"",label:t.$t("config.serial_number"),width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{cursor:"pointer",color:"#00a0e9"},attrs:{title:"Click to view details"},on:{click:function(i){return t.details(e.row)}}},[t._v(t._s(e.row.serial_number))])]}}],null,!1,3397043045)}),t._v(" "),i("el-table-column",{attrs:{"min-width":"60",label:t.$t("config.qrcode")},scopedSlots:t._u([{key:"default",fn:function(t){return[i("a",{attrs:{href:t.row.qrcode_full,TARGET:"_blank"}},[i("img",{staticStyle:{width:"45px"},attrs:{src:t.row.qrcode_full,alt:""}})])]}}],null,!1,3147156540)}),t._v(" "),i("el-table-column",{attrs:{"min-width":"100",label:t.$t("rule.title")},scopedSlots:t._u([{key:"default",fn:function(e){return[i("div",{staticStyle:{color:"#00a0e9",cursor:"pointer"},attrs:{title:"Click to view details"},on:{click:function(i){return t.bindClikeTitle(e.row)}}},[t._v(t._s(e.row.title))])]}}],null,!1,338776242)}),t._v(" "),i("el-table-column",{attrs:{"min-width":"100",label:t.$t("config.update_repair_status")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.repair_status>0?i("div",{staticStyle:{color:"#00a0e9",cursor:"pointer"},attrs:{title:"Click search"},on:{click:function(i){return t.bindClikeRepair(e.row)}}},[t._v("\n                        "+t._s("ch"==t.lang?t.repair_status[e.row.repair_status].title_zh:t.repair_status[e.row.repair_status].title)+"\n                    ")]):t._e()]}}],null,!1,2674063637)}),t._v(" "),i("el-table-column",{attrs:{prop:"repair_time",width:"180",label:t.$t("config.repair_time")}}),t._v(" "),i("el-table-column",{attrs:{"min-width":"100",label:t.$t("config.use_status")},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.use_status>0?i("div",{staticStyle:{color:"#00a0e9",cursor:"pointer"},attrs:{title:"Click search"},on:{click:function(i){return t.bindClikeUse(e.row)}}},[t._v("\n                        "+t._s("ch"==t.lang?t.use_status[e.row.use_status].title_zh:t.use_status[e.row.use_status].title)+"\n                    ")]):t._e()]}}],null,!1,738569685)}),t._v(" "),i("el-table-column",{attrs:{prop:"use_time",width:"180",label:t.$t("config.use_time")}}),t._v(" "),i("el-table-column",{attrs:{prop:"created_at",width:"180",label:t.$t("config.create_at")}}),t._v(" "),i("el-table-column",{attrs:{width:"60"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-dropdown",[i("el-button",{attrs:{size:"small",icon:"el-icon-more",circle:""}}),t._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.rank&&t.rank.edit?i("el-dropdown-item",{nativeOn:{click:function(i){return t.EditRow(e.row)}}},[t._v(t._s(t.$t("config.edit")))]):t._e(),t._v(" "),t.rank&&t.rank.del?i("el-dropdown-item",{nativeOn:{click:function(i){return t.deleteRow(e.row)}}},[t._v(t._s(t.$t("config.del")))]):t._e(),t._v(" "),i("el-dropdown-item",{nativeOn:{click:function(i){return t.printQrcode(e.row)}}},[t._v(t._s(t.$t("config.print_qrcode")))]),t._v(" "),t.rank&&t.rank.update_repair_status&&1==e.row.repair_status?i("el-dropdown-item",{nativeOn:{click:function(i){return t.updateStatus(e.row,"repair")}}},[t._v(t._s(t.$t("config.update_repair_status")))]):t._e(),t._v(" "),t.rank&&t.rank.update_use_status&&2==e.row.repair_status&&1==e.row.use_status?i("el-dropdown-item",{nativeOn:{click:function(i){return t.updateStatus(e.row,"use")}}},[t._v(t._s(t.$t("config.update_use_status")))]):t._e()],1)],1)]}}],null,!1,2530336087)})],1),t._v(" "),i("layoutPage",{attrs:{total:t.total,currentpage:t.search.page},on:{changPageSize:t.changPageSize,changCurrentPage:t.changCurrentPage,changJumpPage:t.changJumpPage}}),t._v(" "),t.dialogTableVisible?i("el-dialog",{attrs:{visible:t.dialogTableVisible,title:t.dialogViewTitle,width:t.dialogViewWidth},on:{"update:visible":function(e){t.dialogTableVisible=e}}},["edit"==t.elDialogType?i("edit",{attrs:{id:t.id},on:{changeEditDialog:t.changeEditDialog}}):t._e(),t._v(" "),"detail"==t.elDialogType?i("detail",{attrs:{id:t.id},on:{changeEditDialog:t.changeEditDialog}}):t._e(),t._v(" "),"repair"==t.elDialogType?i("uodatestatus",{attrs:{id:t.id,type:t.updateType},on:{changeUpdateDialog:t.changeUpdateDialog}}):t._e(),t._v(" "),"priont"==t.elDialogType?i("prionQrcode",{attrs:{qrcodepath:t.qrcodepath},on:{changePriont:t.changePriont}}):t._e()],1):t._e()],1)])},staticRenderFns:[]};var f=i("VU/8")(m,g,!1,function(t){i("FCPR")},"data-v-62943929",null);e.default=f.exports},yU7R:function(t,e){}});