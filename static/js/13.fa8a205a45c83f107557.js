webpackJsonp([13],{Aona:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"index.vue",sourceRoot:""}])},M6Xa:function(n,t,e){var i=e("Aona");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("42969bd1",i,!1,{})},bdzg:function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=e("Js1K"),a={name:"noteEdit",props:["id"],data:function(){return{lang:this.$i18n.locale,parentList:[],formData:{id:"",title:"",title_zh:"",pid:"",types:"",weight:""},rules:{title:[{required:!0,message:this.$t("config.title_no"),trigger:"blur|change"}],title_zh:[{required:!0,message:this.$t("config.title_zh_no"),trigger:"blur|change"}],types:[{required:!0,message:this.$t("postponed.types_no"),trigger:"blur|change"}],pid:[{required:!0,message:this.$t("rule.pid_no"),trigger:"blur|change"}]}}},created:function(){this.id&&this.getNotesInfo()},methods:{getNotesInfo:function(){var n=this;n.$request.getNotesInfo({id:n.id}).then(function(t){if(1==t.code){for(var e in n.formData)"pid"==e&&(t.data[e]=Number(t.data[e])),"types"==e&&(t.data[e]=String(t.data[e])),n.formData[e]=t.data[e];n.changeTypes()}})},getNotesParentList:function(){var n=this;n.$request.getNotesParentList().then(function(t){1==t.code&&(n.parentList=t.data)})},changeTypes:function(){(2==this.formData.types&&!this.parentList||this.parentList.length<1)&&this.getNotesParentList()},submitForm:function(n){var t=this,e=this;e.$refs[n].validate(function(n){if(!n)return console.log("error submit!!"),!1;e.$request.setNotesSave(e.userForm).then(function(n){1==n.code?(e.$emit("changeColorDialog",e.userForm),t.$notify({title:e.$t("config.tips"),message:n.msg,type:"success",duration:"2000"})):e.getformtoken()})})}}},o=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"note-edit-body",staticStyle:{"padding-top":"30px","background-color":"white"}},[e("el-form",{ref:"userForm",staticClass:"demo-userForm",attrs:{model:n.formData,rules:n.rules,"label-width":"120px"}},[e("el-form-item",{attrs:{label:n.$t("postponed.types"),prop:"types"}},[e("el-select",{on:{change:n.changeTypes},model:{value:n.formData.types,callback:function(t){n.$set(n.formData,"types",t)},expression:"formData.types"}},[e("el-option",{key:"1",attrs:{label:"TOP",value:"1"}}),n._v(" "),e("el-option",{key:"2",attrs:{label:"SECOND LEVEL",value:"2"}})],1)],1),n._v(" "),2==n.formData.types&&n.parentList&&n.parentList.length>0?e("el-form-item",{attrs:{label:n.$t("rule.pid"),prop:"pid"}},[e("el-select",{model:{value:n.formData.pid,callback:function(t){n.$set(n.formData,"pid",t)},expression:"formData.pid"}},n._l(n.parentList,function(t,i){return e("el-option",{key:i,attrs:{label:"ch"==n.lang?t.title_zh:t.title,value:t.id}})}),1)],1):n._e(),n._v(" "),e("el-form-item",{attrs:{label:n.$t("config.title"),prop:"title"}},[e("el-input",{model:{value:n.formData.title,callback:function(t){n.$set(n.formData,"title",t)},expression:"formData.title"}})],1),n._v(" "),e("el-form-item",{attrs:{label:n.$t("config.title_zh"),prop:"title_zh"}},[e("el-input",{model:{value:n.formData.title_zh,callback:function(t){n.$set(n.formData,"title_zh",t)},expression:"formData.title_zh"}})],1),n._v(" "),e("el-form-item",{attrs:{label:n.$t("config.weight")}},[e("el-input",{model:{value:n.formData.weight,callback:function(t){n.$set(n.formData,"weight",t)},expression:"formData.weight"}})],1),n._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:function(t){return n.submitForm("userForm")}}},[n._v(n._s(n.$t("config.submit")))])],1)],1)],1)};o._withStripped=!0;var s={render:o,staticRenderFns:[]},r=s;var l=!1;var c=e("VU/8")(a,r,!1,function(n){l||e("y/+N")},"data-v-5e252289",null);c.options.__file="src/view/repair/notes/edit.vue";var u=c.exports,d={components:{layoutPage:i.a,noteEdit:u},data:function(){return{tableData:[],id:null,total:0,dialogTableVisible:!1,dialogTableTitle:"Info",lang:this.$i18n.locale,search:{page:1,pagesize:15}}},computed:{rank:function(){return this.$store.state.rank}},created:function(){this.getList()},methods:{refresh:function(){this.getList()},changPageSize:function(n){this.search.pagesize=n,this.getList()},changCurrentPage:function(n){this.search.page=n,this.getList()},changJumpPage:function(n){this.search.page=n,this.getList()},getList:function(){var n=this;n.$request.getNotesList(n.search).then(function(t){1==t.code&&(n.tableData=t.data.list,n.total=t.data.total?t.data.total:0)})},addRow:function(){this.id="",this.dialogTableTitle="Add",this.dialogTableVisible=!0},EditRow:function(n){this.dialogTableTitle="Edit",this.id=n.id,this.dialogTableVisible=!0},changeNoteDialog:function(n){this.dialogTableTitle="Info",this.id="",this.getList(),this.dialogTableVisible=!1},deleteRow:function(n){var t=this,e=this;e.$alert(e.$t("config.delMsg"),e.$t("config.tips"),{confirmButtonText:e.$t("config.confirm"),showCancelButton:!0,cancelButtonText:e.$t("config.cancel")}).then(function(){e.$request.delNotes({id:n.id}).then(function(n){1==n.code&&(e.getList(),t.$notify({title:e.$t("config.tips"),message:n.msg,type:"success"}))})})}}},f=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"notes-body",staticStyle:{background:"white",padding:"15px","border-radius":"5px"}},[e("div",{staticClass:"toolbar"},[e("div",{staticClass:"toolbar_left"},[e("el-button",{staticClass:"d-refresh-button",attrs:{icon:"el-icon-refresh"},on:{click:function(t){return n.refresh()}}}),n._v(" "),n.rank&&n.rank.add?e("el-button",{staticClass:"d-buttom",attrs:{type:"success",icon:"el-icon-plus"},on:{click:n.addRow}},[n._v(n._s(n.$t("config.add")))]):n._e()],1)]),n._v(" "),e("el-table",{staticStyle:{width:"100%"},attrs:{data:n.tableData,border:"",splict:""}},[e("el-table-column",{attrs:{fixed:"",prop:"id",label:"ID",width:"60"}}),n._v(" "),e("el-table-column",{attrs:{prop:"title","min-width":"300",label:n.$t("config.title")},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n        "+n._s("ch"==n.lang?t.row.title_zh:t.row.title)+"\n      ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"parent.title",label:n.$t("rule.pid"),"min-width":"300"},scopedSlots:n._u([{key:"default",fn:function(t){return[n._v("\n        "+n._s(t.row.parent?"ch"==n.lang?t.row.parent.title_zh:t.row.parent.title:"")+"\n      ")]}}])}),n._v(" "),e("el-table-column",{attrs:{prop:"created_at","min-width":"200",label:n.$t("config.create_at")}}),n._v(" "),e("el-table-column",{attrs:{prop:"updated_at","min-width":"200",label:n.$t("config.update_at")}}),n._v(" "),e("el-table-column",{attrs:{fixed:"right",label:n.$t("config.operate"),width:"120"},scopedSlots:n._u([{key:"default",fn:function(t){return[n.rank&&n.rank.edit?e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),n.EditRow(t.row)}}},[n._v("\n          "+n._s(n.$t("config.edit"))+"\n        ")]):n._e(),n._v(" "),n.rank&&n.rank.del?e("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(e){return e.preventDefault(),n.deleteRow(t.row)}}},[n._v("\n          "+n._s(n.$t("config.del"))+"\n        ")]):n._e()]}}])})],1),n._v(" "),e("layoutPage",{attrs:{total:n.total,currentpage:n.search.page},on:{changPageSize:n.changPageSize,changCurrentPage:n.changCurrentPage,changJumpPage:n.changJumpPage}}),n._v(" "),n.dialogTableVisible?e("el-dialog",{attrs:{visible:n.dialogTableVisible,width:"600px",title:n.dialogTableTitle},on:{"update:visible":function(t){n.dialogTableVisible=t}}},[e("noteEdit",{attrs:{id:n.id},on:{changeNoteDialog:n.changeNoteDialog}})],1):n._e()],1)};f._withStripped=!0;var p={render:f,staticRenderFns:[]},g=p;var h=!1;var m=e("VU/8")(d,g,!1,function(n){h||e("M6Xa")},"data-v-af922f3a",null);m.options.__file="src/view/repair/notes/index.vue";t.default=m.exports},t4t6:function(n,t,e){(n.exports=e("FZ+f")(!0)).push([n.i,"\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","",{version:3,sources:[],names:[],mappings:"",file:"edit.vue",sourceRoot:""}])},"y/+N":function(n,t,e){var i=e("t4t6");"string"==typeof i&&(i=[[n.i,i,""]]),i.locals&&(n.exports=i.locals);e("rjj0")("1413d722",i,!1,{})}});