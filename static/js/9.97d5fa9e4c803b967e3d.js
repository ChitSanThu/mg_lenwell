webpackJsonp([9],{MknO:function(e,t){},eJDo:function(e,t){},kHUf:function(e,t){},oO5W:function(e,t){},yjsw:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Js1K"),i={components:{},props:["order_code"],data:function(){return{lang:this.$i18n.locale,detail:[],goodsList:[],applyMailInfo:"",serviceType:[],stateList:[],countryList:[],is_submit:!1,formData:{order_code:this.order_code,addressee:[],weight:"",height:"",width:"",length:"",payment_type:"",service_type:"",label_stock_type:"",package_type:"",drop_off_type:""},rules:{weight:[{required:!0,message:this.$t("mail.weight_no"),trigger:"blur|change"}],height:[{required:!0,message:this.$t("mail.height_no"),trigger:"blur|change"}],width:[{required:!0,message:this.$t("mail.width_no"),trigger:"blur|change"}],length:[{required:!0,message:this.$t("mail.length_no"),trigger:"blur|change"}],service_type:[{required:!0,message:this.$t("mail.service_type_no"),trigger:"blur|change"}],package_type:[{required:!0,message:this.$t("mail.package_type_no"),trigger:"blur|change"}],label_stock_type:[{required:!0,message:this.$t("mail.labelstocktype_no"),trigger:"blur|change"}],drop_off_type:[{required:!0,message:this.$t("mail.drop_off_type"),trigger:"blur|change"}],payment_type:[{required:!0,message:"Payment type cannot be empty",trigger:"blur|change"}]}}},created:function(){this.getMailService(),this.orderDetail(),this.getstateList(),this.getcountryList()},methods:{getstateList:function(){var e=this;e.$request.getStatesList().then(function(t){(t.code=1)&&(e.stateList=t.data.list)})},getcountryList:function(){var e=this;e.$request.getCountrysList().then(function(t){(t.code=1)&&(e.countryList=t.data.list)})},getMailService:function(){var e=this;e.$request.getCommonMailService({}).then(function(t){1==t.code&&(e.applyMailInfo=t.data)})},goodsOrderGetMailService:function(){var e=this;e.$request.goodsOrderGetMailService({order_code:e.order_code}).then(function(t){1==t.code&&(e.serviceType=t.data)})},orderDetail:function(){var e=this;e.$request.goodsOrderGetDetail({order_code:e.order_code}).then(function(t){1==t.code&&(void 0!=t.data.info&&(e.detail=t.data.info),void 0!=t.data.detail&&(void 0!=t.data.detail.details_txt&&t.data.detail.details_txt.length>0&&(e.goodsList=t.data.detail.details_txt),void 0!=t.data.detail.addressee_txt&&(e.formData.addressee=t.data.detail.addressee_txt))),e.goodsOrderGetMailService()})},goBack:function(){this.$emit("backGo",!1)},submitForm:function(e){var t=this;t.is_submit||(t.is_submit=!0,t.$refs[e].validate(function(e){e?t.$request.goodsOrderSendGoods(t.formData).then(function(e){1==e.code&&(t.$message.success(e.msg),setTimeout(function(){t.$router.go(0)},2500)),t.is_submit=!1}):t.is_submit=!1}))}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderdetail_container"},[a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Commodity list")]),e._v(" "),a("div",{staticClass:"item_container"},e._l(e.goodsList,function(t,s){return a("div",{key:s,staticClass:"goods_item"},[a("img",{attrs:{src:t.image,alt:""}}),e._v(" "),a("div",{staticClass:"goodsIno"},[a("div",{staticClass:"title"},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("span",{staticStyle:{"padding-left":"50px",display:"inline-block",color:"red","font-size":"14px"}},[e._v("x"+e._s(t.nums))])]),e._v(" "),""!=t.sku?a("div",{staticClass:"skutitle"},[e._v("\n                            "+e._s(t.sku.title)+"\n                        ")]):e._e()])])}),0)])]),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Recipient information")]),e._v(" "),a("div",{staticClass:"item_container"},[a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("First_name：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.first_name,callback:function(t){e.$set(e.formData.addressee,"first_name",t)},expression:"formData.addressee.first_name"}})],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Last Name：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.last_name,callback:function(t){e.$set(e.formData.addressee,"last_name",t)},expression:"formData.addressee.last_name"}})],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Mobile：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.mobile,callback:function(t){e.$set(e.formData.addressee,"mobile",t)},expression:"formData.addressee.mobile"}})],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Email：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.email,callback:function(t){e.$set(e.formData.addressee,"email",t)},expression:"formData.addressee.email"}})],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Company：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.company,callback:function(t){e.$set(e.formData.addressee,"company",t)},expression:"formData.addressee.company"}})],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Country：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.addressee.country_id,callback:function(t){e.$set(e.formData.addressee,"country_id",t)},expression:"formData.addressee.country_id"}},e._l(e.countryList,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("State：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.addressee.state_id,callback:function(t){e.$set(e.formData.addressee,"state_id",t)},expression:"formData.addressee.state_id"}},e._l(e.stateList,function(e){return a("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1)],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("City：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.city,callback:function(t){e.$set(e.formData.addressee,"city",t)},expression:"formData.addressee.city"}})],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Address Line：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.address,callback:function(t){e.$set(e.formData.addressee,"address",t)},expression:"formData.addressee.address"}})],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Zip Code：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{model:{value:e.formData.addressee.postal_code,callback:function(t){e.$set(e.formData.addressee,"postal_code",t)},expression:"formData.addressee.postal_code"}})],1)])])])]),e._v(" "),a("el-form",{ref:"formData",staticClass:"demo-ruleForm",attrs:{model:e.formData,rules:e.rules,"label-width":"130px"}},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Package information")]),e._v(" "),a("el-form-item",{attrs:{label:e.$t("mail.weight"),prop:"weight"}},[a("el-input",{attrs:{placeholder:e.$t("mail.weight")},model:{value:e.formData.weight,callback:function(t){e.$set(e.formData,"weight",t)},expression:"formData.weight"}},[a("template",{slot:"append"},[e._v("LB")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("mail.length"),prop:"length"}},[a("el-input",{attrs:{placeholder:e.$t("mail.length")},model:{value:e.formData.length,callback:function(t){e.$set(e.formData,"length",t)},expression:"formData.length"}},[a("template",{slot:"append"},[e._v("IN")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("mail.width"),prop:"width"}},[a("el-input",{attrs:{placeholder:e.$t("mail.width")},model:{value:e.formData.width,callback:function(t){e.$set(e.formData,"width",t)},expression:"formData.width"}},[a("template",{slot:"append"},[e._v("IN")])],2)],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("mail.height"),prop:"height"}},[a("el-input",{attrs:{placeholder:e.$t("mail.height")},model:{value:e.formData.height,callback:function(t){e.$set(e.formData,"height",t)},expression:"formData.height"}},[a("template",{slot:"append"},[e._v("IN")])],2)],1)],1),e._v(" "),a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Mailing service selection")]),e._v(" "),a("el-form-item",{attrs:{label:"Service type",prop:"service_type"}},[a("el-select",{attrs:{placeholder:e.$t("pay.select")},model:{value:e.formData.service_type,callback:function(t){e.$set(e.formData,"service_type",t)},expression:"formData.service_type"}},e._l(e.serviceType,function(t,s){return a("el-option",{key:s,attrs:{label:t.service_type,value:t.service_type}},[a("span",{staticStyle:{float:"left"}},[e._v(e._s(t.service_type))])])}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Label stock type",prop:"label_stock_type"}},[a("el-select",{attrs:{placeholder:e.$t("pay.select")},model:{value:e.formData.label_stock_type,callback:function(t){e.$set(e.formData,"label_stock_type",t)},expression:"formData.label_stock_type"}},e._l(e.applyMailInfo.labelStockType,function(t,s){return a("el-option",{key:s,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:s}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Package type",prop:"package_type"}},[a("el-select",{attrs:{placeholder:e.$t("pay.select")},model:{value:e.formData.package_type,callback:function(t){e.$set(e.formData,"package_type",t)},expression:"formData.package_type"}},e._l(e.applyMailInfo.packageType,function(t,s){return a("el-option",{key:s,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:s}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Drop off type",prop:"drop_off_type"}},[a("el-select",{attrs:{placeholder:e.$t("pay.select")},model:{value:e.formData.drop_off_type,callback:function(t){e.$set(e.formData,"drop_off_type",t)},expression:"formData.drop_off_type"}},e._l(e.applyMailInfo.dropOffType,function(t,s){return a("el-option",{key:s,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:s}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Payment type",prop:"payment_type"}},[a("el-select",{attrs:{placeholder:e.$t("pay.select")},model:{value:e.formData.payment_type,callback:function(t){e.$set(e.formData,"payment_type",t)},expression:"formData.payment_type"}},e._l(e.applyMailInfo.payMentType,function(t,s){return a("el-option",{key:s,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:s}})}),1)],1)],1),e._v(" "),a("el-form-item",[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.is_submit,expression:"is_submit"}],staticStyle:{float:"right","background-color":"#18bc9c"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formData")}}},[e._v(e._s(e.$t("config.submit")))])],1)],1)],1)},staticRenderFns:[]};var r=a("VU/8")(i,l,!1,function(e){a("oO5W")},"data-v-e41c44e4",null).exports,o={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"order_progress_container"},[e._l(e.list,function(t,s){return e.list?a("div",{key:s,staticClass:"progress_item"},[a("div",0==s?{staticClass:"firsticon"}:{staticClass:"icon"}),e._v(" "),a("div",{staticClass:"cons"},[e._v(e._s(t.content))]),e._v(" "),a("div",{staticClass:"time"},[e._v(e._s(t.time))])]):e._e()}),e._v(" "),e.errorMsg?a("div",{staticClass:"errortips"},[e._v("\n        "+e._s(e.errorMsg)+"\n    ")]):e._e()],2)},staticRenderFns:[]};var d=a("VU/8")({props:["post_code"],data:function(){return{lang:this.$i18n.locale,list:[],errorMsg:"No logistics information has been obtained"}},created:function(){this.getList()},methods:{getList:function(){var e=this;e.$request.getMailLogistics({post_code:e.post_code}).then(function(t){1==t.code?t.data.length<=0?e.errorMsg=t.msg:(e.list=t.data,e.errorMsg=""):e.errorMsg=t.msg})}}},o,!1,function(e){a("kHUf")},"data-v-6403a398",null).exports,n={components:{sendGoods:r,Logistics:d},props:["order_code"],data:function(){return{lang:this.$i18n.locale,detail:[],goodsList:[],addressee:[],dialogTableVisible:!1,dialogViewTitle:"",dialogViewWidth:"800px",dialogType:""}},created:function(){this.orderDetail()},methods:{orderDetail:function(){var e=this;e.$request.goodsOrderGetDetail({order_code:e.order_code}).then(function(t){1==t.code&&(void 0!=t.data.info&&(e.detail=t.data.info),void 0!=t.data.detail&&(void 0!=t.data.detail.details_txt&&t.data.detail.details_txt.length>0&&(e.goodsList=t.data.detail.details_txt),void 0!=t.data.detail.addressee_txt&&(e.addressee=t.data.detail.addressee_txt)))})},goBack:function(){this.$emit("backGo",!1)},sendGoodsInfo:function(){this.order_code=this.detail.order_code,this.dialogTableVisible=!0,this.dialogViewTitle="Send out goods",this.dialogViewWidth="800px",this.dialogType="handle"},closeDialog:function(){this.order_code="",this.dialogTableVisible=!1,this.dialogViewTitle="",this.dialogViewWidth="800px",this.dialogType="",this.post_code=""},printMailingLabels:function(){""!=this.detail.pdf_path?window.open(this.detail.pdf_path):this.$message.error("Mailing label not generated")},getLogisticsList:function(){this.post_code=this.detail.post_code,this.dialogTableVisible=!0,this.dialogViewTitle="Logistics",this.dialogViewWidth="800px",this.dialogType="logistics"}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"orderdetail_container"},[a("div",{staticClass:"container_top"},[a("el-page-header",{staticClass:"call_back",on:{back:e.goBack}}),e._v(" "),a("div",{staticStyle:{"text-align":"right"}},[2==e.detail.order_status?a("el-button",{staticClass:"goodsorderbtn",attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.sendGoodsInfo()}}},[e._v("\n                "+e._s("ch"==e.lang?"发货":"Send out goods")+"\n            ")]):e._e(),e._v(" "),3==e.detail.order_status?a("el-button",{staticClass:"goodsorderbtn",attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.printMailingLabels()}}},[e._v("\n                "+e._s("ch"==e.lang?"打印邮寄面单":"Print mailing labels")+"\n            ")]):e._e(),e._v(" "),3==e.detail.order_status?a("el-button",{staticClass:"goodsorderbtn",attrs:{type:"text",size:"small"},nativeOn:{click:function(t){return t.preventDefault(),e.getLogisticsList()}}},[e._v("\n                "+e._s("ch"==e.lang?"查看物流":"Logistics")+"\n            ")]):e._e()],1)],1),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Order basic information")]),e._v(" "),a("div",{staticClass:"item_container"},[a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Order code：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.order_code))])]),e._v(" "),e.detail.post_code?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Mailing number：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.post_code))])]):e._e(),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Order status：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.status_txt))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Org price：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.org_price))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Pay price：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.pay_price))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Discount price：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.discount_price))])]),e._v(" "),e.detail.platform_currency?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Platform currency：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.platform_currency))])]):e._e(),e._v(" "),e.detail.pay_time?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Pay time：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.pay_time))])]):e._e(),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Create time：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.created_at))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Update time：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.updated_at))])]),e._v(" "),e.detail.remark?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Remark：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.detail.remark))])]):e._e()])])]),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Commodity list")]),e._v(" "),a("div",{staticClass:"item_container"},e._l(e.goodsList,function(t,s){return a("div",{key:s,staticClass:"goods_item"},[a("img",{attrs:{src:t.image,alt:""}}),e._v(" "),a("div",{staticClass:"goodsIno"},[a("div",{staticClass:"title"},[a("span",[e._v(e._s(t.title))]),e._v(" "),a("span",{staticStyle:{"padding-left":"50px",display:"inline-block",color:"red","font-size":"14px"}},[e._v("x"+e._s(t.nums))])]),e._v(" "),t.sku.title?a("div",{staticClass:"skutitle"},[e._v("\n                            "+e._s(t.sku.title)+"\n                        ")]):e._e()])])}),0)])]),e._v(" "),a("div",{staticClass:"order_container"},[a("div",{staticClass:"group_item"},[a("div",{staticClass:"all_title"},[e._v("Recipient information")]),e._v(" "),a("div",{staticClass:"item_container"},[a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Name：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addressee.first_name)+" "+e._s(e.addressee.last_name))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Mobile：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addressee.mobile))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Email：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addressee.email))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Address：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addressee.country)+" "+e._s(e.addressee.state)+" "+e._s(e.addressee.city)+" "+e._s(e.addressee.address))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Postal code：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addressee.postal_code))])])])])]),e._v(" "),e.dialogTableVisible?a("el-dialog",{attrs:{visible:e.dialogTableVisible,title:e.dialogViewTitle,width:e.dialogViewWidth},on:{"update:visible":function(t){e.dialogTableVisible=t}}},["handle"==e.dialogType?a("sendGoods",{attrs:{order_code:e.order_code},on:{closeDialog:e.closeDialog}}):e._e(),e._v(" "),"logistics"==e.dialogType?a("Logistics",{attrs:{post_code:e.post_code},on:{closeDialog:e.closeDialog}}):e._e()],1):e._e()],1)},staticRenderFns:[]};var _=a("VU/8")(n,c,!1,function(e){a("eJDo")},"data-v-398cf3e9",null).exports,u={components:{layoutPage:s.a,orderDetails:_,sendGoods:r,Logistics:d},inject:["reload"],data:function(){return{lang:this.$i18n.locale,loadingTable:!0,dialogTableVisible:!1,addOrderNum:!1,dialogViewTitle:"",dialogViewWidth:"800px",dialogType:"",total:0,list:[],searchShow:!1,isDetails:!1,order_code:"",post_code:"",addOrderNumFrom:{order_code:"",mail_num:"",mail_type:"fedex",is_submit:!1},search:{page:1,pagesize:15,order_code:"",post_code:"",user_id:"",wholesaler_id:"",source:"",order_status:"",nickname:"",wholesalername:"",pay_time:"",created_at:""},pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-6048e5),e.$emit("pick",[a,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-2592e6),e.$emit("pick",[a,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,a=new Date;a.setTime(a.getTime()-7776e6),e.$emit("pick",[a,t])}}]}}},computed:{rank:function(){return this.$store.state.rank}},created:function(){this.$route.query;this.getList()},methods:{refresh:function(){this.getList()},bindClikeUser:function(e){this.search.user_id=e.user_id,this.search.page=1,this.getList()},bindClikeWholesaler:function(e){this.search.wholesaler_id=e.wholesaler_id,this.search.page=1,this.getList()},bindSearch:function(){this.searchShow?this.searchShow=!1:this.searchShow=!0},searchTableList:function(){this.search.page=1,this.getList()},resetForm:function(){if(void 0==this.search.timetype||null==this.search.timetype||""==this.search.timetype){var e=this.search;for(var t in e)"page"==t?e[t]=1:"pagesize"==t||(e[t]="");this.search=e,this.getList()}else this.$router.push("/order/commodityorder")},changPageSize:function(e){this.search.pagesize=e,this.getList()},changCurrentPage:function(e){this.search.page=e,this.getList()},changJumpPage:function(e){this.search.page=e,this.getList()},getList:function(){var e=this;e.loadingTable=!0,e.$request.goodsOrderGetList(e.search).then(function(t){e.loadingTable=!1,1==t.code&&(e.list=t.data.list,e.total=t.data.total)})},getOrderDetail:function(e){this.order_code=e.order_code,this.isDetails=!0},backGo:function(){this.order_code="",this.isDetails=!1},sendGoodsInfo:function(e){this.order_code=e.order_code,this.dialogTableVisible=!0,this.dialogViewTitle="Send out goods",this.dialogViewWidth="800px",this.dialogType="handle"},closeDialog:function(e){this.order_code="",this.dialogTableVisible=!1,this.dialogViewTitle="",this.dialogViewWidth="800px",this.dialogType="",this.post_code=""},printMailingLabels:function(e){""!=e.pdf_path?(console.log(e.pdf_path),window.open(e.pdf_path)):this.$message.error("Mailing label not generated")},getLogisticsList:function(e){this.post_code=e.post_code,this.dialogTableVisible=!0,this.dialogViewTitle="Logistics",this.dialogViewWidth="800px",this.dialogType="logistics"},addOrderMailNum:function(e){this.addOrderNum=!0,this.addOrderNumFrom.order_code=e.order_code},submitAddNumForm:function(){var e=this;e.addOrderNumFrom.is_submit||(""!=e.addOrderNumFrom.order_code?""!=e.addOrderNumFrom.mail_type?""!=e.addOrderNumFrom.mail_num?(e.addOrderNumFrom.is_submit=!0,e.$request.goodsSetOrderMailNum(e.addOrderNumFrom).then(function(t){1==t.code&&(e.$message.success("Operation successful"),e.addOrderNum=!1,e.addOrderNumFrom.order_code="",e.addOrderNumFrom.mail_type="fedex",e.addOrderNumFrom.mail_num=""),e.addOrderNumFrom.is_submit=!1})):e.$message.error("Mailing number cannot be blank"):e.$message.error("Please select a mailing service"):e.$message.error("Please select an order"))}}},m={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"goods_orderlist_container"},[e.isDetails?e._e():a("div",{staticClass:"list"},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchShow,expression:"searchShow"}],staticClass:"toolbar_form"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.search,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"Order code"}},[a("el-input",{model:{value:e.search.order_code,callback:function(t){e.$set(e.search,"order_code",t)},expression:"search.order_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Mailing number"}},[a("el-input",{model:{value:e.search.post_code,callback:function(t){e.$set(e.search,"post_code",t)},expression:"search.post_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"User id"}},[a("el-input",{model:{value:e.search.user_id,callback:function(t){e.$set(e.search,"user_id",t)},expression:"search.user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"User nickname"}},[a("el-input",{model:{value:e.search.nickname,callback:function(t){e.$set(e.search,"nickname",t)},expression:"search.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Wholesaler id"}},[a("el-input",{model:{value:e.search.wholesaler_id,callback:function(t){e.$set(e.search,"wholesaler_id",t)},expression:"search.wholesaler_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Wholesaler nickname","label-width":"150px"}},[a("el-input",{model:{value:e.search.wholesalername,callback:function(t){e.$set(e.search,"wholesalername",t)},expression:"search.wholesalername"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Order status"}},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.search.order_status,callback:function(t){e.$set(e.search,"order_status",t)},expression:"search.order_status"}},[a("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),a("el-option",{key:"1",attrs:{label:"Unpaid",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"Paid",value:"2"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:"Shipped",value:"3"}}),e._v(" "),a("el-option",{key:"4",attrs:{label:"Confirm receipt",value:"4"}}),e._v(" "),a("el-option",{key:"5",attrs:{label:"Evaluated",value:"5"}}),e._v(" "),a("el-option",{key:"6",attrs:{label:"Refund / return",value:"6"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Order typs"}},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.search.source,callback:function(t){e.$set(e.search,"source",t)},expression:"search.source"}},[a("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),a("el-option",{key:"1",attrs:{label:"Retail order",value:"1"}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"Wholesale order",value:"2"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"Pay time"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.search.pay_time,callback:function(t){e.$set(e.search,"pay_time",t)},expression:"search.pay_time"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"Create Time","label-width":"120px"}},[a("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.search.created_at,callback:function(t){e.$set(e.search,"created_at",t)},expression:"search.created_at"}})],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"d-button",attrs:{type:"primary"},on:{click:function(t){return e.searchTableList()}}},[e._v(e._s(e.$t("config.search")))]),e._v(" "),a("el-button",{staticClass:"d-button",on:{click:function(t){return e.resetForm()}}},[e._v(e._s(e.$t("config.reset")))])],1)],1)],1),e._v(" "),a("div",{staticClass:"toolbar"},[a("div",{staticClass:"toolbar_left"},[a("el-button",{staticClass:"d-refresh-button",attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.refresh()}}})],1),e._v(" "),a("div",{staticClass:"toolbar-form"},[a("el-button",{staticClass:"d-button",attrs:{type:"info",icon:"el-icon-search"},on:{click:e.bindSearch}})],1)]),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],attrs:{data:e.list,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",label:e.$t("orders.order_code"),width:"200"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table_click_title",attrs:{title:"Click to view details"},on:{click:function(a){return e.getOrderDetail(t.row)}}},[e._v(e._s(t.row.order_code))])]}}],null,!1,111476143)}),e._v(" "),a("el-table-column",{attrs:{"min-width":"140",label:"ch"==e.lang?"用户":"Retail customers"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"table_click_title",attrs:{title:"Click search retail customers"},on:{click:function(a){return e.bindClikeUser(t.row)}}},[e._v(e._s(t.row.user.nickname))])]}}],null,!1,1646392863)}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130",label:"ch"==e.lang?"批发商":"Wholesaler"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.wholesaler?a("div",{staticClass:"table_click_title",attrs:{title:"Click search wholesaler"},on:{click:function(a){return e.bindClikeWholesaler(t.row)}}},[e._v(e._s(t.row.wholesaler.nickname))]):e._e()]}}],null,!1,3370611792)}),e._v(" "),a("el-table-column",{attrs:{"min-width":"150",label:"ch"==e.lang?"订单状态":"Order status"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.status_txt))])]}}],null,!1,4003577538)}),e._v(" "),a("el-table-column",{attrs:{"min-width":"150",label:"ch"==e.lang?"运单号":"Mailing number"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",[e._v(e._s(t.row.post_code))])]}}],null,!1,1598246107)}),e._v(" "),a("el-table-column",{attrs:{width:"100",label:"ch"==e.lang?"订单来源":"Order types"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.source?a("div",{staticStyle:{color:"#2ecc71"}},[e._v("Retail order")]):e._e(),e._v(" "),2==t.row.source?a("div",{staticStyle:{color:"#2c3b41"}},[e._v("Wholesale order")]):e._e()]}}],null,!1,3536779362)}),e._v(" "),a("el-table-column",{attrs:{prop:"org_price",width:"110",label:"ch"==e.lang?"商品总价":"Org price"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_price",width:"110",label:"ch"==e.lang?"订单支付金额":"Pay price"}}),e._v(" "),a("el-table-column",{attrs:{prop:"discount_price",width:"130",label:"ch"==e.lang?"Vip优惠":"Discount price"}}),e._v(" "),a("el-table-column",{attrs:{prop:"taxation",width:"130",label:"ch"==e.lang?"税费":"taxation"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_post_age",width:"130",label:"ch"==e.lang?"邮费":"Post age"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pay_time",width:"180",label:"ch"==e.lang?"支付时间":"Pay time"}}),e._v(" "),a("el-table-column",{attrs:{prop:"created_at",width:"180",label:e.$t("config.create_at")}}),e._v(" "),a("el-table-column",{attrs:{prop:"updated_at",width:"180",label:e.$t("config.update_at")}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:e.$t("config.operate"),"min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_primary",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.getOrderDetail(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"订单详情":"Detail")+"\n                    ")]),e._v(" "),2==t.row.order_status?a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_success",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.sendGoodsInfo(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"发货":"Send out goods")+"\n                    ")]):e._e(),e._v(" "),3==t.row.order_status&&""!=t.row.pdf_path?a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_primary",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.printMailingLabels(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"打印邮寄面单":"Print mailing labels")+"\n                    ")]):e._e(),e._v(" "),3==t.row.order_status?a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_primary",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.getLogisticsList(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"查看物流":"Logistics")+"\n                    ")]):e._e(),e._v(" "),2==t.row.order_status?a("el-button",{staticClass:"table_td_btn table_td_btn_xs table_td_btn_primary",attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.addOrderMailNum(t.row)}}},[e._v("\n                        "+e._s("ch"==e.lang?"添加运单号":"Add mailing number")+"\n                    ")]):e._e()]}}],null,!1,385125124)})],1),e._v(" "),a("div",[a("layoutPage",{attrs:{total:e.total,currentpage:e.search.page},on:{changPageSize:e.changPageSize,changCurrentPage:e.changCurrentPage,changJumpPage:e.changJumpPage}})],1)],1),e._v(" "),e.dialogTableVisible?a("el-dialog",{attrs:{visible:e.dialogTableVisible,title:e.dialogViewTitle,width:e.dialogViewWidth},on:{"update:visible":function(t){e.dialogTableVisible=t}}},["handle"==e.dialogType?a("sendGoods",{attrs:{order_code:e.order_code},on:{closeDialog:e.closeDialog}}):e._e(),e._v(" "),"logistics"==e.dialogType?a("Logistics",{attrs:{post_code:e.post_code},on:{closeDialog:e.closeDialog}}):e._e()],1):e._e(),e._v(" "),e.addOrderNum?a("el-dialog",{attrs:{visible:e.addOrderNum,title:"add mailing number",width:"500px"},on:{"update:visible":function(t){e.addOrderNum=t}}},[[a("div",{staticStyle:{padding:"30px"}},[a("div",{staticStyle:{"margin-bottom":"15px"}},[a("div",{staticStyle:{"margin-bottom":"5px"}},[e._v("邮寄服务")]),e._v(" "),a("div",[a("el-radio",{attrs:{label:"fedex"},model:{value:e.addOrderNumFrom.mail_type,callback:function(t){e.$set(e.addOrderNumFrom,"mail_type",t)},expression:"addOrderNumFrom.mail_type"}},[e._v("Fedex")]),e._v(" "),a("el-radio",{attrs:{label:"usps"},model:{value:e.addOrderNumFrom.mail_type,callback:function(t){e.$set(e.addOrderNumFrom,"mail_type",t)},expression:"addOrderNumFrom.mail_type"}},[e._v("Usps")])],1)]),e._v(" "),a("div",[a("div",{staticStyle:{"margin-bottom":"5px"}},[e._v("邮寄单号")]),e._v(" "),a("div",[a("el-input",{attrs:{placeholder:""},model:{value:e.addOrderNumFrom.mail_num,callback:function(t){e.$set(e.addOrderNumFrom,"mail_num",t)},expression:"addOrderNumFrom.mail_num"}})],1)]),e._v(" "),a("div",{staticStyle:{"margin-top":"30px"}},[a("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.addOrderNumFrom.is_submit,expression:"addOrderNumFrom.is_submit"}],staticStyle:{"background-color":"#18bc9c"},attrs:{type:"primary"},on:{click:function(t){return e.submitAddNumForm()}}},[e._v("Submit")])],1)])]],2):e._e(),e._v(" "),e.isDetails?a("orderDetails",{attrs:{order_code:e.order_code},on:{backGo:e.backGo}}):e._e()],1)},staticRenderFns:[]};var v=a("VU/8")(u,m,!1,function(e){a("MknO")},"data-v-27c1ca0f",null);t.default=v.exports}});