webpackJsonp([20],{gMiC:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Js1K"),i=a("zL8q"),l={name:"orderToex",props:["id"],data:function(){return{lang:this.$i18n.locale,detail:[],modelsList:[],mailService:[],addresseeinfo:[],ruleForm:{status:"3",reason:"",id:"",service_type:"",package_type:"",weight:"",width:"",height:"",length:""}}},computed:{uploadAction:function(){return this.$store.state.uploadAction}},created:function(){this.getDetailInfo(),this.getMailService(),this.ruleForm.id=this.id},methods:{getMailService:function(){var e=this;e.$request.getMailService().then(function(t){console.log(t.data),1==t.code&&(e.mailService=t.data)})},getDetailInfo:function(){var e=this,t=e.id;e.$request.getOrderEmailApplyDetail({id:t}).then(function(t){1==t.code&&(e.detail=t.data,void 0!=t.data.order&&null!=t.data.order&&""!=t.data.order&&void 0!=t.data.order.ordermodels&&null!=t.data.order.ordermodels&&(e.modelsList=t.data.order.ordermodels),e.addresseeinfo=t.data.next_person_info,e.ruleForm.service_type=t.data.service_type,e.ruleForm.package_type=t.data.package_type,e.ruleForm.weight=t.data.weight,e.ruleForm.width=t.data.width,e.ruleForm.height=t.data.height,e.ruleForm.length=t.data.length)})},submitForm:function(e){var t=this,a=i.Loading.service({background:"rgba(0, 0, 0, 0.8)"});t.$request.getOrderEmailApplyToex(t.ruleForm).then(function(e){a.close(),1==e.code&&(t.$emit("changeToex",t.ruleForm),t.$notify({title:t.$t("config.tips"),message:e.msg,type:"success",duration:"2000"}))})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"rule_edit",staticStyle:{"background-color":"white",padding:"0 30px"}},["order"==e.detail.source?a("div",[a("div",{staticClass:"all_title"},[e._v("Mailing device information")]),e._v(" "),a("div",{staticClass:"item_container"},e._l(e.modelsList,function(t,s){return a("div",{key:s,staticClass:"models_item"},[a("img",{staticClass:"img",attrs:{src:t.phone_image,alt:""}}),e._v(" "),a("div",{staticClass:"info_con"},[a("div",{staticClass:"title"},[e._v(e._s(t.phone_model_title)+"("+e._s(t.color_title)+")")]),e._v(" "),a("div",{staticClass:"project"},[e._v(e._s(t.project_title))])])])}),0)]):e._e(),e._v(" "),a("div",{staticClass:"all_title"},[e._v("Mailing address information")]),e._v(" "),e.addresseeinfo?a("div",{staticClass:"item_container"},[a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("user.first_name"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.first_name))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("user.last_name"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.last_name))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("config.country"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.country))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("config.state"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.state))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("config.city"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.city))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("orders.address"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.address))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("config.zip_code"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.postal_code))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Mobile：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.mobile))])]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Email：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v(e._s(e.addresseeinfo.email))])])]):e._e(),e._v(" "),a("div",{staticClass:"all_title"},[e._v("Mail service information")]),e._v(" "),a("div",{staticClass:"item_container"},[a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Service type：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.ruleForm.service_type,callback:function(t){e.$set(e.ruleForm,"service_type",t)},expression:"ruleForm.service_type"}},e._l(e.mailService.service_type,function(t,s){return a("el-option",{key:s,attrs:{label:"ch"==e.lang&&t.service_type_zh?t.service_type_zh:t.service_type,value:t.service_type}})}),1)],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Package type：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.ruleForm.package_type,callback:function(t){e.$set(e.ruleForm,"package_type",t)},expression:"ruleForm.package_type"}},e._l(e.mailService.packageType,function(t,s){return a("el-option",{key:s,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:s}})}),1)],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("mail.weight"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{attrs:{placeholder:e.$t("mail.weight")},model:{value:e.ruleForm.weight,callback:function(t){e.$set(e.ruleForm,"weight",t)},expression:"ruleForm.weight"}},[a("template",{slot:"append"},[e._v("LB")])],2)],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("mail.length"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{attrs:{placeholder:e.$t("mail.length")},model:{value:e.ruleForm.length,callback:function(t){e.$set(e.ruleForm,"length",t)},expression:"ruleForm.length"}},[a("template",{slot:"append"},[e._v("IN")])],2)],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("mail.width"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{attrs:{placeholder:e.$t("mail.width")},model:{value:e.ruleForm.width,callback:function(t){e.$set(e.ruleForm,"width",t)},expression:"ruleForm.width"}},[a("template",{slot:"append"},[e._v("IN")])],2)],1)]),e._v(" "),a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v(e._s(e.$t("mail.height"))+"：")]),e._v(" "),a("div",{staticClass:"order_info"},[a("el-input",{attrs:{placeholder:e.$t("mail.height")},model:{value:e.ruleForm.height,callback:function(t){e.$set(e.ruleForm,"height",t)},expression:"ruleForm.height"}},[a("template",{slot:"append"},[e._v("IN")])],2)],1)]),e._v(" "),"noorder"==e.detail.source?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Package information：")]),e._v(" "),a("div",{staticClass:"order_info",staticStyle:{border:"1px solid #c5c5c5","border-radius":"5px",padding:"10px",width:"calc(100% - 200px)","min-height":"50px"}},[e._v(e._s(e.detail.description))])]):e._e()]),e._v(" "),2==e.detail.status?a("div",[a("div",{staticClass:"all_title"},[e._v("Information audit")]),e._v(" "),a("div",{staticClass:"item_container"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"State:"}},[a("el-radio",{attrs:{label:"3"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("Adopt")]),e._v(" "),a("el-radio",{attrs:{label:"4"},model:{value:e.ruleForm.status,callback:function(t){e.$set(e.ruleForm,"status",t)},expression:"ruleForm.status"}},[e._v("Fail")])],1),e._v(" "),a("el-form-item",{attrs:{label:"Reason:"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.ruleForm.reason,callback:function(t){e.$set(e.ruleForm,"reason",t)},expression:"ruleForm.reason"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v(e._s(e.$t("config.submit")))])],1)],1)],1)]):e._e(),e._v(" "),e.detail.status>=3?a("div",[a("div",{staticClass:"all_title"},[e._v("Audit information")]),e._v(" "),a("div",{staticClass:"item_container"},[a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("State：")]),e._v(" "),a("div",{staticClass:"order_info"},[3==e.detail.status?a("span",{staticStyle:{color:"#18bc9c"}},[e._v("Adopt")]):e._e(),e._v(" "),4==e.detail.status?a("span",{staticStyle:{color:"red"}},[e._v("Fail")]):e._e()])]),e._v(" "),4==e.detail.status?a("div",{staticClass:"order_column"},[a("div",{staticClass:"order_lable"},[e._v("Reason：")]),e._v(" "),a("div",{staticClass:"order_info"},[e._v("\n                   "+e._s(e.detail.reason)+"\n                ")])]):e._e()])]):e._e(),e._v(" "),3==e.detail.status?a("div",[a("div",{staticClass:"all_title"},[e._v("Mailing Label")]),e._v(" "),a("div",{staticClass:"item_container"},[a("img",{staticStyle:{width:"400px",border:"1px solid #e6e6e6"},attrs:{src:e.detail.pdf_path_full,alt:""}})])]):e._e()])},staticRenderFns:[]};var o=a("VU/8")(l,r,!1,function(e){a("maLg")},null,null).exports,n={components:{layoutPage:s.a,toex:o},data:function(){return{lang:this.$i18n.locale,dialogTableVisible:!1,imgSrc:[],id:null,total:0,vip_list:[],elDialogType:"",searchShow:!1,dialogViewTitle:"",selectid:"",tableheight:"100%",tableData:[],search:{page:1,pagesize:15,order_code:"",user_id:"",nickname:"",status:""}}},computed:{rank:function(){return this.$store.state.rank}},created:function(){this.getList()},methods:{refresh:function(){this.getList()},selectUserId:function(e){this.search.user_id=e.user_id,this.search.page=1,this.getList()},bindSearch:function(){this.searchShow?this.searchShow=!1:this.searchShow=!0},selectStatus:function(e){},searchTableList:function(){this.search.page=1,this.getList()},resetForm:function(){var e=this.search;for(var t in e)"page"==t?e[t]=1:"pagesize"==t||(e[t]="");this.search=e,this.getList()},changPageSize:function(e){this.search.pagesize=e,this.getList()},changCurrentPage:function(e){this.search.page=e,this.getList()},changJumpPage:function(e){this.search.page=e,this.getList()},getList:function(){var e=this;e.$request.getOrderEmailApply(e.search).then(function(t){if(1==t.code&&t.data&&t.data.list){for(var a in t.data.list)t.data.list[a].checked=!1;e.tableData=t.data.list,e.total=t.data.total?t.data.total:0}})},orderToex:function(e){this.dialogViewTitle="Information audit",this.elDialogType="toex",this.dialogViewWidth="600px",this.id=e.id,this.dialogTableVisible=!0},changeToex:function(e){this.refresh(),this.dialogViewTitle="",this.elDialogType="",this.dialogViewWidth="800px",this.id="",this.dialogTableVisible=!1}}},c={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"group",staticStyle:{background:"white",padding:"15px","border-radius":"5px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:e.searchShow,expression:"searchShow"}],staticClass:"toolbar_form"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.search,"label-width":"130px"}},[a("el-form-item",{attrs:{label:e.$t("orders.order_code")}},[a("el-input",{model:{value:e.search.order_code,callback:function(t){e.$set(e.search,"order_code",t)},expression:"search.order_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("config.user_id")}},[a("el-input",{model:{value:e.search.user_id,callback:function(t){e.$set(e.search,"user_id",t)},expression:"search.user_id"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("orders.user_id")}},[a("el-input",{model:{value:e.search.nickname,callback:function(t){e.$set(e.search,"nickname",t)},expression:"search.nickname"}})],1),e._v(" "),a("el-form-item",{attrs:{label:e.$t("rule.status")}},[a("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.search.status,callback:function(t){e.$set(e.search,"status",t)},expression:"search.status"}},[a("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),a("el-option",{key:"2",attrs:{label:"Pending",value:"2"}}),e._v(" "),a("el-option",{key:"3",attrs:{label:"Adopt",value:"3"}}),e._v(" "),a("el-option",{key:"4",attrs:{label:"Fail",value:"4"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{staticClass:"d-button",attrs:{type:"primary"},on:{click:function(t){return e.searchTableList()}}},[e._v(e._s(e.$t("config.search")))]),e._v(" "),a("el-button",{staticClass:"d-button",on:{click:function(t){return e.resetForm()}}},[e._v(e._s(e.$t("config.reset")))])],1)],1)],1),e._v(" "),a("div",{staticClass:"toolbar"},[a("div",{staticClass:"toolbar_left"},[a("el-button",{staticClass:"d-refresh-button",attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.refresh()}}})],1),e._v(" "),a("div",{staticClass:"toolbar-form"},[a("el-button",{staticClass:"d-button",attrs:{type:"info",icon:"el-icon-search"},on:{click:e.bindSearch}})],1)]),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""}},[a("el-table-column",{attrs:{fixed:"",label:"ID",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{color:"#00a2d4",cursor:"pointer"},on:{click:function(a){return e.orderToex(t.row)}}},[e._v(e._s(t.row.id))])]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"120",label:e.$t("orders.user_id")},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticStyle:{color:"#00a2d4",cursor:"pointer"},on:{click:function(a){return e.selectUserId(t.row)}}},[e._v(e._s(t.row.user.nickname))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("rule.status"),width:"130",onchange:"selectStatus()"},scopedSlots:e._u([{key:"default",fn:function(t){return[2==t.row.status?a("span",{staticStyle:{color:"#ff6600"}},[e._v("Pending")]):e._e(),e._v(" "),3==t.row.status?a("span",{staticStyle:{color:"#18bc9c"}},[e._v("Adopt")]):e._e(),e._v(" "),4==t.row.status?a("span",{staticStyle:{color:"red"}},[e._v("Fail")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"Tracking number",width:"150",prop:"post_code"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("config.description"),width:"600",prop:"description"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("config.handle_time"),width:"180",prop:"handle_time"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("config.reason"),width:"400",prop:"reason"}}),e._v(" "),a("el-table-column",{attrs:{label:e.$t("config.create_at"),width:"180",prop:"created_at"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:e.$t("config.operate"),width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e.rank&&e.rank.toex&&2==t.row.status?a("el-button",{attrs:{type:"text",size:"small"},nativeOn:{click:function(a){return a.preventDefault(),e.orderToex(t.row)}}},[e._v("\n            "+e._s(e.$t("config.toex"))+"\n          ")]):e._e()]}}])})],1),e._v(" "),a("layoutPage",{attrs:{total:e.total,currentpage:e.search.page},on:{changPageSize:e.changPageSize,changCurrentPage:e.changCurrentPage,changJumpPage:e.changJumpPage}}),e._v(" "),e.dialogTableVisible?a("el-dialog",{attrs:{visible:e.dialogTableVisible,title:e.dialogViewTitle,width:"800px"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},["toex"==e.elDialogType?a("toex",{attrs:{id:e.id},on:{changeToex:function(t){return e.changeToex()}}}):e._e()],1):e._e()],1)},staticRenderFns:[]};var d=a("VU/8")(n,c,!1,function(e){a("k7eP")},"data-v-5fa86b24",null);t.default=d.exports},k7eP:function(e,t){},maLg:function(e,t){}});