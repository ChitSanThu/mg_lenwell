webpackJsonp([54],{"5jSt":function(e,a,n){var t=n("7RU8");"string"==typeof t&&(t=[[e.i,t,""]]),t.locals&&(e.exports=t.locals);n("rjj0")("3ece3c0f",t,!1,{})},"7RU8":function(e,a,n){(e.exports=n("FZ+f")(!0)).push([e.i,"\n.profile-container{\n  background: white;\n  padding: 15px;\n  border-radius: 5px;\n  border-top: 3px solid #18bc9c;\n  width: 600px;\n  height: 550px;\n}\n.avatar{\n  width: 100px;\n  height: 100px;\n  margin: auto;\n  display: block;\n  border: 1px solid #e6e6e6;\n}\n.rule_edit .nickname{\n  font-size: 18px;\n  margin-top: 5px;\n  text-align: center;\n}\n","",{version:3,sources:["/Users/chitsanthu/Desktop/lenwell/wetransfer_api-zip_2022-08-29_1643/www/mg_lenwell/src/view/auth/admin/profile.vue"],names:[],mappings:";AACA;EACE,kBAAkB;EAClB,cAAc;EACd,mBAAmB;EACnB,8BAA8B;EAC9B,aAAa;EACb,cAAc;CACf;AACD;EACE,aAAa;EACb,cAAc;EACd,aAAa;EACb,eAAe;EACf,0BAA0B;CAC3B;AACD;EACE,gBAAgB;EAChB,gBAAgB;EAChB,mBAAmB;CACpB",file:"profile.vue",sourcesContent:["\n.profile-container{\n  background: white;\n  padding: 15px;\n  border-radius: 5px;\n  border-top: 3px solid #18bc9c;\n  width: 600px;\n  height: 550px;\n}\n.avatar{\n  width: 100px;\n  height: 100px;\n  margin: auto;\n  display: block;\n  border: 1px solid #e6e6e6;\n}\n.rule_edit .nickname{\n  font-size: 18px;\n  margin-top: 5px;\n  text-align: center;\n}\n"],sourceRoot:""}])},v9Bm:function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n("z2X1"),i=n.n(t),o={name:"profile",data:function(){return{lang:this.$i18n.locale,userInfo:[],fileList:[],adminForm:{account:"",avatar:"",nickname:"",mobile:"",email:"",password:""},rules:{nickname:[{required:!0,message:this.$t("config.nickname_no"),trigger:"blur|change"}],avatar:[{required:!0,message:this.$t("config.avatar_no"),trigger:"blur|change"}],mobile:[{required:!0,message:this.$t("config.mobile_no"),trigger:"blur|change"},{pattern:/^1[1|2|3|4|5|6|7|8|9][0-9]\d{8}$/,message:this.$t("config.mobile_no_error"),trigger:"blur|change"}],email:[{required:!0,message:this.$t("config.email_no"),trigger:"blur|change"},{pattern:"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$",message:this.$t("config.email_no_error"),trigger:"blur|change"}]}}},computed:{uploadAction:function(){return this.$store.state.uploadAction}},created:function(){this.getAdminInfo()},methods:{getAdminInfo:function(){var e=this,a=i.a.getItem("userinfo");e.$request.getAdminInfo({id:a.id}).then(function(a){1==a.code&&a.data&&(e.userInfo=a.data,e.adminForm.avatar=a.data.avatar,e.adminForm.nickname=a.data.nickname,e.adminForm.mobile=a.data.mobile,e.adminForm.email=a.data.email,e.adminForm.account=a.data.account,e.fileList.push({url:a.data.full_avatar}))})},fileUpload:function(e){var a=this;e.status="uploading";var n=new FormData;n.append("file",e.file),a.$request.fileUpload(n).then(function(n){1==n.code?(a.userInfo.full_avatar=n.data.fullUrl,a.adminForm.avatar=n.data.url,e.status="done"):e.status="failed"})},submitForm:function(e){var a=this,n=this;n.$refs[e].validate(function(e){e&&n.$request.adminProfile(n.adminForm).then(function(e){if(1==e.code){var t=i.a.getItem("userinfo");t.nickname=n.adminForm.nickname,t.avatar=n.userInfo.full_avatar,i.a.setItem({name:"userInfo",value:t,expires:864e5}),a.$notify({title:n.$t("config.tips"),message:e.msg,type:"success",duration:"2000"})}})})}}},r=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{staticClass:"profile-container"},[n("div",{staticStyle:{"margin-bottom":"30px"}},[e._v("Personal Data")]),e._v(" "),n("el-form",{ref:"adminForm",staticClass:"demo-adminForm",attrs:{model:e.adminForm,rules:e.rules,"status-icon":"","label-width":"120px"}},[n("div",{staticClass:"avatar"},[n("van-uploader",{attrs:{"preview-size":"100px","preview-full-image":!1,"after-read":e.fileUpload,"max-count":1},model:{value:e.fileList,callback:function(a){e.fileList=a},expression:"fileList"}})],1),e._v(" "),n("div",{staticClass:"nickname"},[e._v(e._s(e.userInfo.nickname))]),e._v(" "),n("div",{staticStyle:{height:"20px"}}),e._v(" "),n("el-form-item",{attrs:{label:e.$t("config.account"),prop:"account"}},[n("el-input",{attrs:{disabled:!0},model:{value:e.adminForm.account,callback:function(a){e.$set(e.adminForm,"account",a)},expression:"adminForm.account"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("config.nickname"),prop:"nickname"}},[n("el-input",{model:{value:e.adminForm.nickname,callback:function(a){e.$set(e.adminForm,"nickname",a)},expression:"adminForm.nickname"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("config.mobile"),prop:"mobile"}},[n("el-input",{model:{value:e.adminForm.mobile,callback:function(a){e.$set(e.adminForm,"mobile",a)},expression:"adminForm.mobile"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("config.email"),prop:"email"}},[n("el-input",{model:{value:e.adminForm.email,callback:function(a){e.$set(e.adminForm,"email",a)},expression:"adminForm.email"}})],1),e._v(" "),n("el-form-item",{attrs:{label:e.$t("config.password"),prop:"password"}},[n("el-input",{attrs:{type:"password",autocomplete:"new-password",placeholder:"Please leave blank if you do not want to change your password"},model:{value:e.adminForm.password,callback:function(a){e.$set(e.adminForm,"password",a)},expression:"adminForm.password"}})],1),e._v(" "),n("el-form-item",[n("el-button",{staticClass:"d-button",attrs:{type:"success"},on:{click:function(a){return e.submitForm("adminForm")}}},[e._v(e._s(e.$t("config.submit")))])],1)],1)],1)};r._withStripped=!0;var s={render:r,staticRenderFns:[]},l=s;var m=!1;var c=n("VU/8")(o,l,!1,function(e){m||n("5jSt")},null,null);c.options.__file="src/view/auth/admin/profile.vue";a.default=c.exports}});