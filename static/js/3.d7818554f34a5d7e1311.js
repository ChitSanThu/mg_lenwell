webpackJsonp([3],{DpSB:function(e,t){},I7HB:function(e,t,i){"use strict";var a={name:"userEdit",props:["id"],data:function(){return{lang:this.$i18n.locale,list:[],avatarFile:"",vip_level:[],roles_list:[],select:[],userForm:{form_token:"",id:"",status:"1",nickname:"",avatar:"",mobile:"",global_roaming:"",email:"",password:"",role_id:"",org_name:"",vip_level:""},rules:{nickname:[{required:!0,message:this.$t("config.nickname_no"),trigger:"blur|change"}],mobile:[{required:!0,message:this.$t("config.mobile_no"),trigger:"blur|change"},{pattern:/^1[1|2|3|4|5|6|7|8|9][0-9]\d{8}$/,message:this.$t("config.mobile_no_error"),trigger:"blur|change"}],email:[{required:!1,message:this.$t("config.email_no"),trigger:"blur|change"},{pattern:"^[a-zA-Z0-9_-]+@[a-zA-Z0-9_-]+(.[a-zA-Z0-9_-]+)+$",message:this.$t("config.email_no_error"),trigger:"blur|change"}],password:[{required:!0,message:this.$t("config.password_no"),trigger:"blur|change"}]}}},computed:{uploadAction:function(){return this.$store.state.uploadAction}},created:function(){this.getformtoken(),this.getVipList(),this.getUserRolesList(),this.id&&(this.getUserInfo(),this.rules.password=[{required:!1,message:this.$t("config.password_no"),trigger:"blur|change"}])},methods:{getVipList:function(){var e=this;e.$request.getUserVipList(e.search).then(function(t){e.vip_level=t.data})},getUserRolesList:function(){var e=this;e.$request.getUserRoleList().then(function(t){e.roles_list=t.data})},getUserInfo:function(){var e=this;e.$request.getUserInfo({id:e.id}).then(function(t){if(1==t.code){var i=e.userForm;for(var a in i)void 0!=t.data[a]&&(i[a]="status"==a?String(t.data[a]):t.data[a]);i.password="",e.userForm=i,e.avatarFile=t.data.full_avatar}})},handleAvatarSuccess:function(e,t){this.avatarFile=e.data.fullUrl,this.userForm.avatar=e.data.url},beforeAvatarUpload:function(e){},getformtoken:function(){var e=this;e.$request.getformtoken().then(function(t){e.userForm.form_token=t.data.token})},submitForm:function(e){var t=this,i=this;i.$refs[e].validate(function(e){e&&i.$request.setUserSave(i.userForm).then(function(e){1==e.code?(i.$emit("changeUserDialog",i.userForm),t.$notify({title:i.$t("config.tips"),message:e.msg,type:"success",duration:"2000"})):i.userForm.form_token=e.data.token})})}}},r={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"rule_edit",staticStyle:{"padding-top":"30px"}},[i("el-form",{ref:"userForm",staticClass:"demo-userForm",attrs:{model:e.userForm,rules:e.rules,"label-width":"120px"}},[i("el-form-item",{staticClass:"upload-form-item",attrs:{label:e.$t("config.avatar")}},[i("el-upload",{staticClass:"avatar-uploader",attrs:{action:e.uploadAction,"show-file-list":!1,"on-success":e.handleAvatarSuccess,"before-upload":e.beforeAvatarUpload}},[e.avatarFile?i("img",{staticClass:"avatar",attrs:{src:e.avatarFile}}):i("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.mobile")}},[i("div",{staticClass:"user_edit_mobile_container"},[i("el-input",{staticStyle:{width:"120px"},attrs:{placeholder:"Area code",prop:"global_roaming"},model:{value:e.userForm.global_roaming,callback:function(t){e.$set(e.userForm,"global_roaming",t)},expression:"userForm.global_roaming"}}),e._v(" "),i("el-input",{attrs:{prop:"mobile"},model:{value:e.userForm.mobile,callback:function(t){e.$set(e.userForm,"mobile",t)},expression:"userForm.mobile"}})],1)]),e._v(" "),i("el-form-item",{attrs:{label:e.$t("user.role_id")}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.userForm.role_id,callback:function(t){e.$set(e.userForm,"role_id",t)},expression:"userForm.role_id"}},e._l(e.roles_list,function(t,a){return i("el-option",{key:a,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:t.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.nickname")}},[i("el-input",{model:{value:e.userForm.nickname,callback:function(t){e.$set(e.userForm,"nickname",t)},expression:"userForm.nickname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.email"),prop:"email"}},[i("el-input",{model:{value:e.userForm.email,callback:function(t){e.$set(e.userForm,"email",t)},expression:"userForm.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("user.org_name")}},[i("el-input",{model:{value:e.userForm.org_name,callback:function(t){e.$set(e.userForm,"org_name",t)},expression:"userForm.org_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.password"),prop:"password"}},[i("el-input",{attrs:{placeholder:e.id?e.$t("config.password_no_input"):""},model:{value:e.userForm.password,callback:function(t){e.$set(e.userForm,"password",t)},expression:"userForm.password"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.status")}},[i("el-radio",{attrs:{label:"1"},model:{value:e.userForm.status,callback:function(t){e.$set(e.userForm,"status",t)},expression:"userForm.status"}},[e._v("Active")]),e._v(" "),i("el-radio",{attrs:{label:"2"},model:{value:e.userForm.status,callback:function(t){e.$set(e.userForm,"status",t)},expression:"userForm.status"}},[e._v("Disabled")])],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("user.vip_level")}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.userForm.vip_level,callback:function(t){e.$set(e.userForm,"vip_level",t)},expression:"userForm.vip_level"}},e._l(e.vip_level,function(t,a){return i("el-option",{key:a,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:t.id}})}),1)],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("userForm")}}},[e._v(e._s(e.$t("config.submit")))])],1)],1)],1)},staticRenderFns:[]};var o=i("VU/8")(a,r,!1,function(e){i("IqEC")},"data-v-1d4c1393",null);t.a=o.exports},IqEC:function(e,t){},OIV0:function(e,t){},ZKvw:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=i("Js1K"),r={name:"add",components:{userEdit:i("I7HB").a},data:function(){return{dialogTableVisible:!1,lang:this.$i18n.locale,customerList:[],selectLoading:!1,stateList:[],modelTree:[],modelType:"",modelList:[],projectList:[],project_id:[],colorList:[],postponedList:[],VipDisCount:[],oldtime:"",formData:{node_code:"",form_token:"",users_id:"",first_name:"",last_name:"",mobile:"",company:"",email:"",address:"",city:"",state:"",postal_code:"",model_id:"",project_id:"",price:"0.00",due_time:"",color_id:"",remark:"",types:"2",num:"1",priority:""},priorityList:[{id:1,title:"Average",title_zh:"一般"},{id:2,title:"Middling",title_zh:"中等"},{id:3,title:"High",title_zh:"高"},{id:4,title:"Urgent",title_zh:"加急"}],rules:{users_id:[{required:!0,message:this.$t("orders.user_id_no"),trigger:"blur|change"}],mobile:[{required:!0,message:this.$t("config.mobile_no"),trigger:"blur|change"}],model_id:[{required:!0,message:this.$t("orders.model_id_no"),trigger:"blur|change"}],project_id:[{required:!0,message:this.$t("orders.project_id_no"),trigger:"blur|change"}],color_id:[{required:!0,message:this.$t("orders.color_id_no"),trigger:"blur|change"}]}}},created:function(){this.getStatesList(),this.getModelsTreeList(),this.getColorsList(),this.repairpostponedtimegetList(),this.getFormApiToken()},methods:{createNewCustomer:function(){this.dialogTableVisible=!0},changeUserDialog:function(){this.dialogTableVisible=!1},searchState:function(e){},getFormApiToken:function(){var e=this;e.$request.getformtoken({}).then(function(t){1==t.code&&(e.formData.form_token=t.data.token)})},remoteMethod:function(e){e?(this.selectLoading=!0,this.getUserSearchList(e)):this.customerList=[]},getUserSearchList:function(e){var t=this;t.$request.getSearchUserList({key:e}).then(function(e){if(1==e.code){for(var i in t.selectLoading=!1,e.data){var a=e.data[i].nickname;void 0!=e.data[i].mobile&&null!=e.data[i].mobile&&""!=e.data[i].mobile&&(a=a+"-"+e.data[i].mobile),void 0!=e.data[i].company&&null!=e.data[i].company&&""!=e.data[i].company&&(a=a+"-"+e.data[i].company),e.data[i].nickname=a}t.customerList=e.data}})},changeUser:function(){var e=this;e.VipDisCount=[],e.formData.users_id&&(e.customerList.forEach(function(t){t.id==e.formData.users_id&&(e.formData.mobile=t.mobile,e.formData.email=t.email,e.formData.company=t.company,e.is_chain=!0)}),e.$request.getUserAddress({user_id:e.formData.users_id}).then(function(t){1==t.code&&(t.data?(e.formData.mobile=t.data.mobile,e.formData.email=t.data.email,e.formData.postal_code=t.data.postal_code,e.formData.last_name=t.data.last_name,e.formData.first_name=t.data.first_name,e.formData.city=t.data.city,e.formData.address=t.data.address,e.formData.state=t.data.state_id,e.formData.company=t.data.company):(e.formData.mobile="",e.formData.email="",e.formData.postal_code="",e.formData.last_name="",e.formData.first_name="",e.formData.city="",e.formData.address="",e.formData.state="",e.formData.company=""))}),e.getVipDisCount(e.price))},getStatesList:function(){var e=this;e.$request.getStatesList().then(function(t){if(t.code=1){var i=t.data.list;for(var a in i)i[a].title_zh=i[a].title_zh+"("+i[a].code+")",i[a].title=i[a].title+"("+i[a].code+")";e.stateList=i}})},getModelsTreeList:function(){var e=this;e.$request.getModelsTreeList({types:"1"}).then(function(t){1==t.code&&(e.modelTree=t.data)})},changeModelType:function(){var e=this;e.modelType&&e.modelTree.forEach(function(t){t.id==e.modelType&&(t.node&&t.node.length>0?e.modelList=t.node:e.modelList=[])})},getProjectTree:function(){var e=this;e.$request.getProjectTree({model_id:e.formData.model_id}).then(function(t){1==t.code&&(e.projectList=t.data)})},changeProject:function(){this.formData.project_id=this.project_id.join(","),this.getOrderPrice()},getOrderPrice:function(){var e=this,t=0,i=0;e.projectList.forEach(function(a){e.project_id.indexOf(a.id)>=0&&(t+=3600*Number(a.repair_duration)*1e3,i=(100*i+100*a.price)/100)}),e.formData.due_time=e.$uit.toUnix(t+(new Date).getTime()),e.oldtime=e.formData.due_time,e.formData.price=i,e.getVipDisCount(i)},getVipDisCount:function(e){var t=this;t.formData.users_id&&e&&e>0&&(t.VipDisCount.length<=0?t.$request.getVipDisCount({user_id:t.formData.users_id}).then(function(i){1==i.code&&(t.VipDisCount=i.data,i.data.forEach(function(i){i.price_start<=e<i.price_end&&(t.formData.price=e*i.preferential_quota/100)}))}):t.VipDisCount.forEach(function(i){i.price_start<=e<i.price_end&&(t.formData.price=e*i.preferential_quota/100)}))},getColorsList:function(){var e=this;e.$request.getColorsList().then(function(t){1==t.code&&(e.colorList=t.data.list)})},repairpostponedtimegetList:function(){var e=this;e.$request.repairpostponedtimegetList().then(function(t){1==t.code&&(e.postponedList=t.data)})},bindPostponed:function(e){var t=this.formData.due_time,i=new Date(t).getTime(),a=60*e.time_num*1e3;i=1==e.types?parseInt(i)+parseInt(a):parseInt(i)-parseInt(a);var r=this.timestampToTime(i);this.formData.due_time=r},resetTime:function(){this.formData.due_time=this.oldtime},submitForm:function(e,t){var i=this;i.$refs[e].validate(function(e){if(!e)return!1;i.$request.setOrdersSave(i.formData).then(function(e){i.formData.form_token=e.data.token,1==e.code?(1!=t?i.$emit("changeOrdersAddDialog",e.data):i.getFormApiToken(),i.$notify({title:i.$t("config.tips"),message:e.msg,type:"success",duration:"2000"}),i.formData.node_code=e.data.node_code):i.formData.form_token=e.data.token})})},timestampToTime:function(e){var t=new Date(parseInt(e));return t.getFullYear()+"-"+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-"+(t.getDate()<10?"0"+t.getDate():t.getDate())+" "+(t.getHours()<10?"0"+t.getHours():t.getHours())+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())+":"+(t.getSeconds()<10?"0"+t.getSeconds():t.getSeconds())}}},o={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"order-form-body",staticStyle:{padding:"30px"}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.formData,rules:e.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:e.$t("orders.user_id"),prop:"users_id"}},[i("el-select",{staticStyle:{width:"500px"},attrs:{filterable:"",remote:"","reserve-keyword":"",placeholder:"Please enter your nickname, phone number and email address","remote-method":e.remoteMethod,loading:e.selectLoading},on:{change:e.changeUser},model:{value:e.formData.users_id,callback:function(t){e.$set(e.formData,"users_id",t)},expression:"formData.users_id"}},e._l(e.customerList,function(e){return i("el-option",{key:e.id,attrs:{label:e.nickname,value:e.id}})}),1),e._v(" "),i("el-button",{on:{click:function(t){return e.createNewCustomer()}}},[e._v(e._s(e.$t("user.create_new")))])],1),e._v(" "),i("div",{staticClass:"form-flex"},[i("el-form-item",{attrs:{label:e.$t("user.first_name")}},[i("el-input",{attrs:{placeholder:e.$t("user.first_name")},model:{value:e.formData.first_name,callback:function(t){e.$set(e.formData,"first_name",t)},expression:"formData.first_name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("user.last_name")}},[i("el-input",{attrs:{placeholder:e.$t("user.last_name")},model:{value:e.formData.last_name,callback:function(t){e.$set(e.formData,"last_name",t)},expression:"formData.last_name"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.mobile"),prop:"mobile"}},[i("el-input",{attrs:{placeholder:e.$t("config.mobile")},model:{value:e.formData.mobile,callback:function(t){e.$set(e.formData,"mobile",t)},expression:"formData.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.email")}},[i("el-input",{attrs:{placeholder:e.$t("config.email")},model:{value:e.formData.email,callback:function(t){e.$set(e.formData,"email",t)},expression:"formData.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("user.company")}},[i("el-input",{attrs:{placeholder:e.$t("user.company")},model:{value:e.formData.company,callback:function(t){e.$set(e.formData,"company",t)},expression:"formData.company"}})],1),e._v(" "),i("div",{staticClass:"form-flex"},[i("el-form-item",{attrs:{label:e.$t("config.state")}},[i("el-select",{attrs:{placeholder:e.$t("config.select"),filterable:""},model:{value:e.formData.state,callback:function(t){e.$set(e.formData,"state",t)},expression:"formData.state"}},e._l(e.stateList,function(t){return i("el-option",{key:t.id,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:t.id}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.city")}},[i("el-input",{attrs:{placeholder:e.$t("config.city")},model:{value:e.formData.city,callback:function(t){e.$set(e.formData,"city",t)},expression:"formData.city"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.zip_code")}},[i("el-input",{model:{value:e.formData.postal_code,callback:function(t){e.$set(e.formData,"postal_code",t)},expression:"formData.postal_code"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.address")}},[i("el-input",{model:{value:e.formData.address,callback:function(t){e.$set(e.formData,"address",t)},expression:"formData.address"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.model_id"),prop:"model_id"}},[i("el-select",{on:{change:e.changeModelType},model:{value:e.modelType,callback:function(t){e.modelType=t},expression:"modelType"}},e._l(e.modelTree,function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1),e._v(" "),e.modelType?i("el-select",{on:{change:e.getProjectTree},model:{value:e.formData.model_id,callback:function(t){e.$set(e.formData,"model_id",t)},expression:"formData.model_id"}},e._l(e.modelList,function(e){return i("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})}),1):e._e()],1),e._v(" "),e.formData.model_id?i("el-form-item",{attrs:{label:e.$t("orders.project_id"),prop:"project_id"}},[i("el-select",{staticStyle:{width:"100%"},attrs:{multiple:""},on:{change:e.changeProject},model:{value:e.project_id,callback:function(t){e.project_id=t},expression:"project_id"}},e._l(e.projectList,function(t){return i("el-option",{key:t.id,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:t.id}})}),1)],1):e._e(),e._v(" "),e.formData.model_id?i("el-form-item",{attrs:{label:e.$t("orders.color_id"),prop:"color_id"}},[i("el-select",{staticStyle:{width:"100%"},model:{value:e.formData.color_id,callback:function(t){e.$set(e.formData,"color_id",t)},expression:"formData.color_id"}},e._l(e.colorList,function(t){return i("el-option",{key:t.id,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:t.id}})}),1)],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.price"),prop:"price"}},[i("el-input",{model:{value:e.formData.price,callback:function(t){e.$set(e.formData,"price",t)},expression:"formData.price"}},[i("template",{slot:"prepend"},[e._v("$")])],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.due_time"),prop:"due_time"}},[i("el-input",{attrs:{readonly:""},model:{value:e.formData.due_time,callback:function(t){e.$set(e.formData,"due_time",t)},expression:"formData.due_time"}},[i("template",{slot:"append"},[i("div",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.resetTime()}}},[e._v("Reset")])])],2)],1),e._v(" "),e.postponedList&&e.postponedList.length>0?i("el-form-item",[i("div",{staticClass:"postponed-ul"},e._l(e.postponedList,function(t,a){return i("div",{key:a,staticClass:"postponed-item",on:{click:function(i){return e.bindPostponed(t)}}},[e._v(e._s(1==t.types?"+":"-")+e._s(t.time_num)+"min")])}),0)]):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"Quantity"}},[i("el-input",{model:{value:e.formData.num,callback:function(t){e.$set(e.formData,"num",t)},expression:"formData.num"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.priority")}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.priority,callback:function(t){e.$set(e.formData,"priority",t)},expression:"formData.priority"}},e._l(e.priorityList,function(t){return i("el-option",{key:t.id,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:t.id}})}),1)],1),e._v(" "),i("el-form-item",{staticClass:"ueditor-form-item",attrs:{label:e.$t("rule.remark")}},[i("el-input",{attrs:{type:"textarea"},model:{value:e.formData.remark,callback:function(t){e.$set(e.formData,"remark",t)},expression:"formData.remark"}})],1),e._v(" "),i("el-form-item",[i("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitForm("ruleForm",1)}}},[e._v(" Chain Order")]),e._v(" "),i("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm",2)}}},[e._v("Place Order")])],1)],1),e._v(" "),e.dialogTableVisible?i("el-dialog",{attrs:{"append-to-body":"",visible:e.dialogTableVisible,width:"600px",title:"Add customer"},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[i("userEdit",{on:{changeUserDialog:e.changeUserDialog}})],1):e._e()],1)},staticRenderFns:[]};var s=i("VU/8")(r,o,!1,function(e){i("OIV0")},"data-v-0d2dbdec",null).exports,l=i("pdY+"),n=i("T0vY"),c=i("hzSB"),d=i("YP/3"),u=i("dsDh"),m=i("XTp9"),p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"max_container",staticStyle:{"background-color":"white",padding:"0 15px"}},[i("el-form",{ref:"formData",staticClass:"demo-ruleForm",attrs:{model:e.formData,rules:e.rules,"label-width":"120px"}},[i("div",{staticClass:"all_title"},[e._v("邮寄服务")]),e._v(" "),i("div",{staticClass:"item_container"},[e.mailserviceinfo.service_type?i("el-form-item",{attrs:{label:"Service type",prop:"state"}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.service_type,callback:function(t){e.$set(e.formData,"service_type",t)},expression:"formData.service_type"}},e._l(e.mailserviceinfo.service_type,function(t,a){return i("el-option",{key:t.service_type,attrs:{label:"ch"==e.lang&&t.service_type_zh?e.service_type_zh:t.service_type,value:t.service_type}})}),1)],1):e._e(),e._v(" "),i("el-form-item",{attrs:{label:"Payment type",prop:"state"}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.paymenttype,callback:function(t){e.$set(e.formData,"paymenttype",t)},expression:"formData.paymenttype"}},e._l(e.mailserviceinfo.payMentType,function(t,a){return i("el-option",{key:a,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:a}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Label stock type",prop:"state"}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.labelstocktype,callback:function(t){e.$set(e.formData,"labelstocktype",t)},expression:"formData.labelstocktype"}},e._l(e.mailserviceinfo.labelStockType,function(t,a){return i("el-option",{key:a,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:a}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Package type",prop:"state"}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.packagetype,callback:function(t){e.$set(e.formData,"packagetype",t)},expression:"formData.packagetype"}},e._l(e.mailserviceinfo.packageType,function(t,a){return i("el-option",{key:a,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:a}})}),1)],1),e._v(" "),i("el-form-item",{attrs:{label:"Dropoff type",prop:"state"}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.formData.dropofftype,callback:function(t){e.$set(e.formData,"dropofftype",t)},expression:"formData.dropofftype"}},e._l(e.mailserviceinfo.dropOffType,function(t,a){return i("el-option",{key:a,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:a}})}),1)],1)],1),e._v(" "),i("el-form-item",[i("el-button",{directives:[{name:"loading",rawName:"v-loading",value:e.submitLoding,expression:"submitLoding"}],staticStyle:{float:"right","background-color":"#18bc9c"},attrs:{type:"primary"},on:{click:function(t){return e.submitForm("formData")}}},[e._v(e._s(e.$t("config.submit")))])],1)],1)],1)},staticRenderFns:[]};var h=function(e){i("DpSB")},_=i("VU/8")(m.a,p,!1,h,null,null).exports,f=i("Ng7f"),g=i("h9se"),v=i("XABc"),b={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"order_logistics_contail"},[e._l(e.list,function(t,a){return e.list?i("div",{key:a,staticClass:"progress_item"},[i("div",0==a?{staticClass:"firsticon"}:{staticClass:"icon"}),e._v(" "),i("div",{staticClass:"cons"},[e._v(e._s(t.text))]),e._v(" "),i("div",{staticClass:"time"},[e._v(e._s(t.created_at))])]):e._e()}),e._v(" "),e.errorMsg?i("div",{staticClass:"errortips"},[e._v("\n        "+e._s(e.errorMsg)+"\n    ")]):e._e()],2)},staticRenderFns:[]};var k=i("VU/8")({props:["post_code"],data:function(){return{list:[],errorMsg:"Logistics loading..."}},created:function(){this.getList()},methods:{getList:function(){var e=this;e.$request.getMailTrack({post_code:e.post_code}).then(function(t){1==t.code?(e.errorMsg="",e.list=t.data):e.errorMsg=t.msg})}}},b,!1,function(e){i("ndGf")},"data-v-90182852",null).exports,y={components:{layoutPage:a.a,add:s,orderDetails:l.a,edit:n.a,personnel:c.a,payment:d.a,mailOrderModelInfo:u.a,mailSelectService:_,priontModelNote:f.a,priontPayNoteCustomer:g.a,priontPayNoteOrg:v.a,Logistics:k},inject:["reload"],data:function(){return{lang:this.$i18n.locale,loadingTable:!0,total:0,clickModal:!1,currentpage:1,dialogTableVisible:!1,payMentData:"",dialogViewTitle:"Info",searchShow:!1,personnelData:"",isDetails:!1,elDialogType:"edit",dialogViewWidth:"800px",parintType:"",orderStatus:[],post_code:"",multipleSelection:[],orderStatusCheck:{paid:!1,unpaid:!1,scheduled:!1,inprogress:!1,repaired:!1,intransit:!1,delivered:!1},search:{page:1,pagesize:15,is_pay:"",repair_status:"",node_code:"",model_type_id:"",phone_model_id:"",priority:"",source:"",user_id:"",wholesaler_id:"",nickname:"",mobile:"",email:"",company:"",pay_time:"",created_at:"",timetype:""},node_code:null,model_list:[],modelNthList:[],priority:[],tableheight:"100%",tableData:[],pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-6048e5),e.$emit("pick",[i,t])}},{text:"最近一个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-2592e6),e.$emit("pick",[i,t])}},{text:"最近三个月",onClick:function(e){var t=new Date,i=new Date;i.setTime(i.getTime()-7776e6),e.$emit("pick",[i,t])}}]}}},computed:{rank:function(){return this.$store.state.rank}},created:function(){var e=this.$route.query;if(void 0!=e.timetype&&null!=e.timetype&&""!=e.timetype&&(this.search.timetype=e.timetype),this.getList(),this.$store.state.orderStatusList&&this.$store.state.orderStatusList.length>0?this.getOrderStatusSwith(this.$store.state.orderStatusList):this.getOrderStatusList(),this.$store.state.modellist&&this.$store.state.modellist.length>0)for(var t in this.model_list=this.$store.state.modellist,this.model_list)this.search.model_type_id&&this.search.model_type_id==this.model_list[t].id&&void 0!=this.model_list[t].node&&(this.modelNthList=this.model_list[t].node);else this.getModelList()},methods:{checkPay:function(e){"paid"==e?(this.orderStatusCheck.unpaid=!1,this.orderStatusCheck.paid?this.search.is_pay=1:this.search.is_pay=""):"unpaid"==e&&(this.orderStatusCheck.paid=!1,this.orderStatusCheck.unpaid?this.search.is_pay=2:this.search.is_pay=""),this.search.page=1,this.getList()},checkOrderStatus:function(e){switch(e){case"scheduled":this.orderStatusCheck.inprogress=!1,this.orderStatusCheck.repaired=!1,this.orderStatusCheck.intransit=!1,this.orderStatusCheck.delivered=!1,this.orderStatusCheck.scheduled?this.search.repair_status=1:this.search.repair_status="";break;case"inprogress":this.orderStatusCheck.scheduled=!1,this.orderStatusCheck.repaired=!1,this.orderStatusCheck.intransit=!1,this.orderStatusCheck.delivered=!1,this.orderStatusCheck.inprogress?this.search.repair_status=2:this.search.repair_status="";break;case"repaired":this.orderStatusCheck.scheduled=!1,this.orderStatusCheck.inprogress=!1,this.orderStatusCheck.intransit=!1,this.orderStatusCheck.delivered=!1,this.orderStatusCheck.repaired?this.search.repair_status=3:this.search.repair_status="";break;case"intransit":this.orderStatusCheck.scheduled=!1,this.orderStatusCheck.inprogress=!1,this.orderStatusCheck.repaired=!1,this.orderStatusCheck.delivered=!1,this.orderStatusCheck.intransit?this.search.repair_status=4:this.search.repair_status="";break;case"delivered":this.orderStatusCheck.scheduled=!1,this.orderStatusCheck.inprogress=!1,this.orderStatusCheck.repaired=!1,this.orderStatusCheck.intransit=!1,this.orderStatusCheck.delivered?this.search.repair_status=5:this.search.repair_status="";break;default:this.orderStatusCheck.scheduled=!1,this.orderStatusCheck.inprogress=!1,this.orderStatusCheck.repaired=!1,this.orderStatusCheck.intransit=!1,this.orderStatusCheck.delivered=!1,this.search.repair_status=""}this.search.page=1,this.getList()},refresh:function(){this.getList()},bindClikeUser:function(e){this.search.user_id=e.user_id,this.search.page=1,this.getList()},bindClikeWholesaler:function(e){this.search.wholesaler_id=e.wholesaler_id,this.search.page=1,this.getList()},bindClikeAdmin:function(e){this.search.repair_admin=e.id,this.search.page=1,this.getList()},bindSearch:function(){this.searchShow?this.searchShow=!1:this.searchShow=!0},searchTableList:function(){this.search.page=1,this.getList()},resetForm:function(){if(void 0==this.search.timetype||null==this.search.timetype||""==this.search.timetype){var e=this.search;for(var t in e)"page"==t?e[t]=1:"pagesize"==t||(e[t]="");this.search=e,this.getList()}else this.$router.push("/order/allorders?")},changPageSize:function(e){this.search.pagesize=e,this.getList()},changCurrentPage:function(e){this.search.page=e,this.getList()},changJumpPage:function(e){this.search.page=e,this.getList()},getList:function(){var e=this;e.loadingTable=!0,e.$request.getOrdersList(e.search).then(function(t){if(e.loadingTable=!1,1==t.code){for(var i in t.data.list)t.data.list[i].checked=!1;e.tableData=t.data.list,e.total=t.data.total}})},bindTakeAll:function(e){var t=this,i=[];if(e)i.push(e.node_code);else for(var a in t.multipleSelection)i.push(t.multipleSelection[a].node_code);i.length<=0?t.$message.error("Please select an order"):(i=i.join(","),t.$request.ordertakedevice({node_code:i}).then(function(e){1==e.code&&(t.$message.success(e.msg),t.getList())}))},bindDeliverAll:function(e){var t=this,i=[];if(e)i.push(e.node_code);else for(var a in t.multipleSelection)i.push(t.multipleSelection[a].node_code);i.length<=0?t.$message.error("Please select an order"):(i=i.join(","),t.$request.mailOrderModelInfo({node_code:i}).then(function(e){1==e.code&&(t.dialogTableVisible=!0,t.elDialogType="mailOrderModelInfo",t.mailOrderInfo=e.data,t.goods=e.data.goods,t.node_code=i,t.dialogViewTitle="Mail information confirmation")}))},changeMailOrderModelInfo:function(e){this.dialogTableVisible=!1,this.elDialogType="mailSelectService",this.mailServiceInfo=e,this.dialogViewTitle="Mailing service selection",this.dialogViewWidth="500px",this.dialogTableVisible=!0},changeMailServiceInfo:function(e){this.dialogTableVisible=!1,window.open(e.pdf_path)},changeCheckbox:function(e){this.multipleSelection=e},addPayment:function(e){var t=this,i=[];if(e)i.push(e.node_code);else for(var a in t.multipleSelection)i.push(t.multipleSelection[a].node_code);i.length<=0?t.$message.error("Please select an order"):(i=i.join(","),t.$request.getorderpayinfo({node_code:i}).then(function(e){1==e.code&&(t.dialogTableVisible=!0,t.elDialogType="payment",t.payMentData=e.data)}))},printModelNotes:function(e,t){var i=[];if(e)i.push(e.node_code);else for(var a in this.multipleSelection)i.push(this.multipleSelection[a].node_code);i.length<=0?this.$message.error("Please select an order"):(this.node_code=i.join(","),this.dialogViewTitle="Print pay labels",this.elDialogType=t,this.dialogViewWidth="500px",this.dialogTableVisible=!0)},changePriont:function(){_this.dialogTableVisible=!1,_this.node_code="",_this.elDialogType=""},getModelList:function(){var e=this,t=this;t.$request.getModelsTreeList().then(function(i){if(i.data){for(var a in i.data)i.data[a].id=String(i.data[a].id),t.search.model_type_id&&t.search.model_type_id==i.data[a].id&&void 0!=i.data[a].node&&(t.modelNthList=i.data[a].node);t.model_list=i.data,e.$store.state.modellist=i.data}})},bindChangeModelType:function(e){for(var t in this.search.phone_model_id="",this.model_list)this.model_list[t].id==this.search.model_type_id&&(this.model_list[t].node?this.modelNthList=this.model_list[t].node:this.modelNthList=[])},getOrderStatusList:function(){var e=this;e.$request.getOrdersStatusList().then(function(t){1==t.code&&(e.$store.state.orderStatusList=t.data,e.getOrderStatusSwith(t.data))})},getOrderStatusSwith:function(e){for(var t in e)switch(t){case"priorityTxt":for(var i in e[t])this.priority.push({id:i,title_zh:e[t][i].title_zh,title:e[t][i].title});break;case"repairStatusTxt":for(var a in e[t])this.orderStatus.push({id:a,title_zh:e[t][a].title_zh,title:e[t][a].title})}},addRow:function(){this.elDialogType="add",this.node_code="",this.dialogViewTitle="Add Order",this.dialogTableVisible=!0},EditRow:function(e){this.dialogViewTitle="Edit Order",this.elDialogType="edit",this.node_code=e.node_code,this.dialogTableVisible=!0},deleteRow:function(e){var t=this,i=this;i.$alert(i.$t("config.delMsg"),i.$t("config.tips"),{confirmButtonText:i.$t("config.confirm"),showCancelButton:!0,cancelButtonText:i.$t("config.cancel")}).then(function(){i.$request.delOrders({node_code:e.node_code}).then(function(e){1==e.code&&(i.getList(),t.$notify({title:i.$t("config.tips"),message:e.msg,type:"success"}))})})},changeOrdersAddDialog:function(e){this.dialogTableVisible=!1,this.node_code=e.node_code,this.isDetails=!0},changeOrdersEditDialog:function(e){this.dialogTableVisible=!1,this.getList()},bindMemo:function(e){this.$router.push({path:"/order/memo",query:{node_code:e.node_code}})},getOrderDetail:function(e){this.node_code=e.node_code,this.isDetails=!0},closeDialog:function(){this.dialogTableVisible=!1,this.elDialogType="",this.dialogViewTitle="",this.dialogViewWidth="",this.dialogTableVisible=!1,this.node_code="",this.post_code="",this.getList()},bindPersonnel:function(e){this.elDialogType="personnel",this.dialogViewTitle="Bind maintenance personnel",this.dialogViewWidth="600px",e.repair_endtime=e.sys_repair_endtime,this.personnelData=e,this.dialogTableVisible=!0},changePersonnel:function(){this.dialogTableVisible=!1,this.getList()},backGo:function(e){this.isDetails=e,this.getList()},bindReceiving:function(e){var t=this,i=this,a=[];if(e)a.push(e.node_code);else for(var r in i.multipleSelection)a.push(i.multipleSelection[r].node_code);a.length<=0?i.$message.error("Please select an order"):(a=a.join(","),i.$request.getOrdersReceiveDevice({node_code:a}).then(function(e){1==e.code&&(t.$notify({title:i.$t("config.tips"),message:e.msg,type:"success"}),i.getList())}))},changePayment:function(){this.dialogTableVisible=!1,this.elDialogType="",this.payMentData=""},showLogistics:function(e){this.dialogTableVisible=!0,this.elDialogType="logistics",this.dialogViewTitle="logistics",this.dialogViewWidth="600px",this.node_code="",this.post_code=e.post_code}}},$={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"index-container"},[e.isDetails?e._e():i("div",{staticClass:"list"},[i("div",{staticClass:"repair_alll_orderstatus_con"},[i("el-checkbox",{on:{change:function(t){return e.checkPay("paid")}},model:{value:e.orderStatusCheck.paid,callback:function(t){e.$set(e.orderStatusCheck,"paid",t)},expression:"orderStatusCheck.paid"}},[e._v(e._s("ch"==e.lang?"已支付":"Paid"))]),e._v(" "),i("el-checkbox",{on:{change:function(t){return e.checkPay("unpaid")}},model:{value:e.orderStatusCheck.unpaid,callback:function(t){e.$set(e.orderStatusCheck,"unpaid",t)},expression:"orderStatusCheck.unpaid"}},[e._v(e._s("ch"==e.lang?"未支付":"Unpaid"))]),e._v(" "),i("el-checkbox",{on:{change:function(t){return e.checkOrderStatus("scheduled")}},model:{value:e.orderStatusCheck.scheduled,callback:function(t){e.$set(e.orderStatusCheck,"scheduled",t)},expression:"orderStatusCheck.scheduled"}},[e._v(e._s("ch"==e.lang?"在线预约、未收到":"Scheduled"))]),e._v(" "),i("el-checkbox",{on:{change:function(t){return e.checkOrderStatus("inprogress")}},model:{value:e.orderStatusCheck.inprogress,callback:function(t){e.$set(e.orderStatusCheck,"inprogress",t)},expression:"orderStatusCheck.inprogress"}},[e._v(e._s("ch"==e.lang?"收到设备":"In Progress"))]),e._v(" "),i("el-checkbox",{on:{change:function(t){return e.checkOrderStatus("repaired")}},model:{value:e.orderStatusCheck.repaired,callback:function(t){e.$set(e.orderStatusCheck,"repaired",t)},expression:"orderStatusCheck.repaired"}},[e._v(e._s("ch"==e.lang?"维修中、已完成":"Repaired"))]),e._v(" "),i("el-checkbox",{on:{change:function(t){return e.checkOrderStatus("intransit")}},model:{value:e.orderStatusCheck.intransit,callback:function(t){e.$set(e.orderStatusCheck,"intransit",t)},expression:"orderStatusCheck.intransit"}},[e._v(e._s("ch"==e.lang?"邮寄中":"In Transit"))]),e._v(" "),i("el-checkbox",{on:{change:function(t){return e.checkOrderStatus("delivered")}},model:{value:e.orderStatusCheck.delivered,callback:function(t){e.$set(e.orderStatusCheck,"delivered",t)},expression:"orderStatusCheck.delivered"}},[e._v(e._s("ch"==e.lang?"已交付":"Delivered"))])],1),e._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:e.searchShow,expression:"searchShow"}],staticClass:"toolbar_form"},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.search,"label-width":"120px"}},[i("el-form-item",{attrs:{label:e.$t("orders.order_code")}},[i("el-input",{model:{value:e.search.node_code,callback:function(t){e.$set(e.search,"node_code",t)},expression:"search.node_code"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.model_type_id")}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},on:{change:function(t){return e.bindChangeModelType(this)}},model:{value:e.search.model_type_id,callback:function(t){e.$set(e.search,"model_type_id",t)},expression:"search.model_type_id"}},[i("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),e._l(e.model_list,function(t,a){return e.model_list?i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}}):e._e()})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.model_id")}},[i("el-select",{attrs:{disabled:!e.search.model_type_id,placeholder:e.$t("config.select")},model:{value:e.search.phone_model_id,callback:function(t){e.$set(e.search,"phone_model_id",t)},expression:"search.phone_model_id"}},[i("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),e._l(e.modelNthList,function(t,a){return e.modelNthList?i("el-option",{key:t.id,attrs:{label:t.title,value:t.id}}):e._e()})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.priority")}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.search.priority,callback:function(t){e.$set(e.search,"priority",t)},expression:"search.priority"}},[i("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),e._l(e.priority,function(t,a){return e.priority?i("el-option",{key:t.id,attrs:{label:"ch"==e.lang?t.title_zh:t.title,value:t.id}}):e._e()})],2)],1),e._v(" "),i("el-form-item",{attrs:{label:"Source"}},[i("el-select",{attrs:{placeholder:e.$t("config.select")},model:{value:e.search.source,callback:function(t){e.$set(e.search,"source",t)},expression:"search.source"}},[i("el-option",{key:"",attrs:{label:e.$t("config.select"),value:""}}),e._v(" "),i("el-option",{attrs:{label:"User",value:"1"}}),e._v(" "),i("el-option",{attrs:{label:"Wholesaler",value:"2"}})],1)],1),e._v(" "),i("el-form-item",{attrs:{label:"User ID"}},[i("el-input",{model:{value:e.search.user_id,callback:function(t){e.$set(e.search,"user_id",t)},expression:"search.user_id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Wholesaler ID"}},[i("el-input",{model:{value:e.search.wholesaler_id,callback:function(t){e.$set(e.search,"wholesaler_id",t)},expression:"search.wholesaler_id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("orders.user_id")}},[i("el-input",{model:{value:e.search.nickname,callback:function(t){e.$set(e.search,"nickname",t)},expression:"search.nickname"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.email")}},[i("el-input",{model:{value:e.search.email,callback:function(t){e.$set(e.search,"email",t)},expression:"search.email"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("config.mobile")}},[i("el-input",{model:{value:e.search.mobile,callback:function(t){e.$set(e.search,"mobile",t)},expression:"search.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:e.$t("dashboard.company")}},[i("el-input",{model:{value:e.search.company,callback:function(t){e.$set(e.search,"company",t)},expression:"search.company"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Pay Time"}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.search.pay_time,callback:function(t){e.$set(e.search,"pay_time",t)},expression:"search.pay_time"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Create Time"}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.search.created_at,callback:function(t){e.$set(e.search,"created_at",t)},expression:"search.created_at"}})],1),e._v(" "),i("el-form-item",[i("el-button",{staticClass:"d-button",attrs:{type:"primary"},on:{click:function(t){return e.searchTableList()}}},[e._v(e._s(e.$t("config.search")))]),e._v(" "),i("el-button",{staticClass:"d-button",on:{click:function(t){return e.resetForm()}}},[e._v(e._s(e.$t("config.reset")))])],1)],1)],1),e._v(" "),i("div",{staticClass:"toolbar"},[i("div",{staticClass:"toolbar_left"},[i("el-button",{staticClass:"d-refresh-button",attrs:{icon:"el-icon-refresh"},on:{click:function(t){return e.refresh()}}}),e._v(" "),i("el-button",{staticClass:"d-button btn_success_d",attrs:{type:"success"},on:{click:e.addRow}},[e._v(e._s(e.$t("config.add")))]),e._v(" "),i("el-button",{staticClass:"d-buttom btn_danger_d",attrs:{type:"danger"},on:{click:function(t){return e.addPayment()}}},[e._v(e._s(e.$t("orders.payment_btn")))]),e._v(" "),i("el-button",{staticClass:"d-button btn-primary",attrs:{type:"success"},on:{click:function(t){return e.bindReceiving()}}},[e._v(e._s(e.$t("orders.receviing")))]),e._v(" "),i("el-button",{staticClass:"d-button btn_success_d",attrs:{type:"success"},on:{click:function(t){return e.bindDeliverAll()}}},[e._v(e._s(e.$t("orders.deliver_btn")))]),e._v(" "),i("el-button",{staticClass:"d-button btn_success_d",attrs:{type:"success"},on:{click:function(t){return e.bindTakeAll()}}},[e._v(e._s(e.$t("config.take")))]),e._v(" "),i("el-button",{staticClass:"d-button btn-primary",attrs:{type:"success"},on:{click:function(t){return e.printModelNotes("","payorg_notes")}}},[e._v(e._s(e.$t("config.payment_receipt")))]),e._v(" "),i("el-button",{staticClass:"d-button btn-primary",attrs:{type:"success"},on:{click:function(t){return e.printModelNotes("","paycustomer_notes")}}},[e._v(e._s(e.$t("config.payment_receipt_customer")))])],1),e._v(" "),i("div",{staticClass:"toolbar-form"},[i("el-button",{staticClass:"d-button",attrs:{type:"info",icon:"el-icon-search"},on:{click:e.bindSearch}})],1)]),e._v(" "),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loadingTable,expression:"loadingTable"}],staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",stripe:""},on:{"selection-change":e.changeCheckbox}},[i("el-table-column",{attrs:{fixed:"",type:"selection",width:"50"}}),e._v(" "),i("el-table-column",{attrs:{fixed:"",label:"Order Number",width:"140"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("div",{staticClass:"username",attrs:{title:"Click to view details"},on:{click:function(i){return e.getOrderDetail(t.row)}}},[e._v(e._s(t.row.node_code))])]}}],null,!1,1053397607)}),e._v(" "),i("el-table-column",{attrs:{prop:"repair_status",label:"Order Status",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s("ch"==e.lang?t.row.repair_status_txt.title_zh:t.row.repair_status_txt.title)+"\n        ")]}}],null,!1,327951002)}),e._v(" "),i("el-table-column",{attrs:{"min-width":"100",label:"Customer"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.user?i("div",{staticClass:"username",attrs:{title:"Click search customer"},on:{click:function(i){return e.bindClikeUser(t.row)}}},[e._v(e._s(t.row.user.nickname))]):e._e(),e._v(" "),t.row.wholesaler?i("div",{staticClass:"username",attrs:{title:"Click search customer"},on:{click:function(i){return e.bindClikeWholesaler(t.row)}}},[e._v(e._s(t.row.wholesaler.nickname))]):e._e()]}}],null,!1,2728830289)}),e._v(" "),i("el-table-column",{attrs:{prop:"subject_txt","min-width":"200",label:"Device Model"}}),e._v(" "),i("el-table-column",{attrs:{prop:"project_title","min-width":"280",label:"Service Item"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          "+e._s("ch"==e.lang?t.row.project_title_zh:t.row.project_title)+"\n        ")]}}],null,!1,1391158138)}),e._v(" "),i("el-table-column",{attrs:{label:"Payment Status",width:"130"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.is_pay?i("span",{staticStyle:{color:"#18bc9c"}},[e._v(e._s(e.$t("orders.paid")))]):e._e(),e._v(" "),2==t.row.is_pay?i("span",{staticStyle:{color:"red"}},[e._v(e._s(e.$t("orders.unpaid")))]):e._e()]}}],null,!1,1866011050)}),e._v(" "),i("el-table-column",{attrs:{prop:"price","min-width":"120",label:"Total"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v("\n          $"+e._s(t.row.price)+"\n        ")]}}],null,!1,3929030068)}),e._v(" "),i("el-table-column",{attrs:{prop:"created_at",width:"180",label:"Order Time"}}),e._v(" "),e.rank&&e.rank.details||e.rank.personnel||e.rank.receiving?i("el-table-column",{attrs:{fixed:"right",label:e.$t("config.operate"),width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-dropdown",[i("el-button",{attrs:{size:"small",icon:"el-icon-more",circle:""}}),e._v(" "),i("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[t.row.repair_status<4?i("el-dropdown-item",{nativeOn:{click:function(i){return e.EditRow(t.row)}}},[e._v(e._s(e.$t("config.edit")))]):e._e(),e._v(" "),2==t.row.is_pay&&1==t.row.repair_status?i("el-dropdown-item",{nativeOn:{click:function(i){return e.deleteRow(t.row)}}},[e._v(e._s(e.$t("config.del")))]):e._e(),e._v(" "),i("el-dropdown-item",{nativeOn:{click:function(i){return e.getOrderDetail(t.row)}}},[e._v(e._s(e.$t("config.details")))]),e._v(" "),1==t.row.source&&1==t.row.repair_status?i("el-dropdown-item",{nativeOn:{click:function(i){return e.bindReceiving(t.row)}}},[e._v(e._s(e.$t("orders.receviing")))]):e._e(),e._v(" "),t.row.repair_status<=4?i("el-dropdown-item",{nativeOn:{click:function(i){return e.bindMemo(t.row)}}},[e._v(e._s(e.$t("orders.memo")))]):e._e(),e._v(" "),2==t.row.repair_status?i("el-dropdown-item",{nativeOn:{click:function(i){return e.bindPersonnel(t.row)}}},[e._v(e._s(e.$t("orders.bind_proccess")))]):e._e(),e._v(" "),2==t.row.is_pay?i("el-dropdown-item",{nativeOn:{click:function(i){return e.addPayment(t.row)}}},[e._v(e._s(e.$t("orders.payment_btn")))]):e._e(),e._v(" "),1==t.row.is_pay&&4==t.row.repair_status?i("el-dropdown-item",{nativeOn:{click:function(i){return e.bindDeliverAll(t.row)}}},[e._v(e._s(e.$t("orders.deliver_btn")))]):e._e(),e._v(" "),1==t.row.is_pay&&4==t.row.repair_status?i("el-dropdown-item",{nativeOn:{click:function(i){return e.bindTakeAll(t.row)}}},[e._v(e._s(e.$t("config.take")))]):e._e(),e._v(" "),t.row.repair_status<4?i("el-dropdown-item",{nativeOn:{click:function(i){return e.printModelNotes(t.row,"models_notes")}}},[e._v(e._s(e.$t("config.print_D_N")))]):e._e(),e._v(" "),1==t.row.is_pay?i("el-dropdown-item",{nativeOn:{click:function(i){return e.printModelNotes(t.row,"payorg_notes")}}},[e._v(e._s(e.$t("config.print_Pay_N")))]):e._e(),e._v(" "),1==t.row.is_pay?i("el-dropdown-item",{nativeOn:{click:function(i){return e.printModelNotes(t.row,"paycustomer_notes")}}},[e._v(e._s(e.$t("config.print_Pay_N_customer")))]):e._e(),e._v(" "),6==t.row.repair_status?i("el-dropdown-item",{nativeOn:{click:function(i){return e.showLogistics(t.row)}}},[e._v("Logistics")]):e._e()],1)],1)]}}],null,!1,912531162)}):e._e()],1),e._v(" "),i("div",[i("layoutPage",{attrs:{total:e.total,currentpage:e.search.page},on:{changPageSize:e.changPageSize,changCurrentPage:e.changCurrentPage,changJumpPage:e.changJumpPage}})],1),e._v(" "),e.dialogTableVisible?i("el-dialog",{attrs:{visible:e.dialogTableVisible,title:e.dialogViewTitle,width:e.dialogViewWidth,"close-on-click-modal":e.clickModal},on:{close:e.closeDialog,"update:visible":function(t){e.dialogTableVisible=t}}},["add"==e.elDialogType?i("add",{on:{changeOrdersAddDialog:e.changeOrdersAddDialog}}):e._e(),e._v(" "),"edit"==e.elDialogType?i("edit",{attrs:{node_code:e.node_code},on:{changeOrdersEditDialog:e.changeOrdersEditDialog}}):e._e(),e._v(" "),"personnel"==e.elDialogType?i("personnel",{attrs:{order:e.personnelData},on:{changePersonnel:e.changePersonnel}}):e._e(),e._v(" "),"payment"==e.elDialogType?i("payment",{attrs:{info:e.payMentData},on:{changePayment:e.changePayment}}):e._e(),e._v(" "),"mailOrderModelInfo"==e.elDialogType?i("mailOrderModelInfo",{attrs:{node_code:e.node_code,mailorderinfo:e.mailOrderInfo},on:{changeMailOrderModelInfo:e.changeMailOrderModelInfo}}):e._e(),e._v(" "),"mailSelectService"==e.elDialogType?i("mailSelectService",{attrs:{node_code:e.node_code,mailserviceinfo:e.mailServiceInfo,goods:e.goods},on:{changeMailServiceInfo:e.changeMailServiceInfo}}):e._e(),e._v(" "),"models_notes"==e.elDialogType?i("priontModelNote",{attrs:{node_code:e.node_code},on:{changePriont:e.changePriont}}):e._e(),e._v(" "),"paycustomer_notes"==e.elDialogType?i("priontPayNoteCustomer",{attrs:{node_code:e.node_code},on:{changePriont:e.changePriont}}):e._e(),e._v(" "),"payorg_notes"==e.elDialogType?i("priontPayNoteOrg",{attrs:{node_code:e.node_code},on:{changePriont:e.changePriont}}):e._e(),e._v(" "),"logistics"==e.elDialogType?i("Logistics",{attrs:{post_code:e.post_code}}):e._e()],1):e._e()],1),e._v(" "),e.isDetails?i("orderDetails",{attrs:{node_code:e.node_code},on:{backGo:e.backGo}}):e._e()],1)},staticRenderFns:[]};var D=i("VU/8")(y,$,!1,function(e){i("p0Q3")},"data-v-0f5cdfc2",null);t.default=D.exports},ndGf:function(e,t){},p0Q3:function(e,t){}});